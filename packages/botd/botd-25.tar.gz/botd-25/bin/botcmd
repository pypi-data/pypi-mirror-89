#!/usr/bin/python3
# BOTLIB - botcmd
#
# this file is placed in the public domain

import os, sys

from bot.hdl import Handler, cmd
from bot.trm import execute
from bot.utl import privilege

import bot.obj

class Mini(Handler):

    def __init__(self):
        super().__init__()
        self.register("cmd", cmd)

    def direct(self, txt):
        print(txt)

def main():
    bot.obj.wd = "/var/lib/botd/"
    privilege("botd")
    h = Mini()
    return h.cmd(" ".join(sys.argv[1:]))

execute(main)
os._exit(0)
