{"version":3,"file":"viewflow-page-profile.min.js","sources":["../../../../node_modules/smartcrop/smartcrop.js","../../../components/vf-page-profile/index.js","../../../components/viewflow-page-profile.js"],"sourcesContent":["/**\n * smartcrop.js\n * A javascript library implementing content aware image cropping\n *\n * Copyright (C) 2018 Jonas Wagner\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n(function() {\n  'use strict';\n\n  var smartcrop = {};\n  // Promise implementation to use\n  smartcrop.Promise =\n    typeof Promise !== 'undefined'\n      ? Promise\n      : function() {\n        throw new Error('No native promises and smartcrop.Promise not set.');\n      };\n\n  smartcrop.DEFAULTS = {\n    width: 0,\n    height: 0,\n    aspect: 0,\n    cropWidth: 0,\n    cropHeight: 0,\n    detailWeight: 0.2,\n    skinColor: [0.78, 0.57, 0.44],\n    skinBias: 0.01,\n    skinBrightnessMin: 0.2,\n    skinBrightnessMax: 1.0,\n    skinThreshold: 0.8,\n    skinWeight: 1.8,\n    saturationBrightnessMin: 0.05,\n    saturationBrightnessMax: 0.9,\n    saturationThreshold: 0.4,\n    saturationBias: 0.2,\n    saturationWeight: 0.1,\n    // Step * minscale rounded down to the next power of two should be good\n    scoreDownSample: 8,\n    step: 8,\n    scaleStep: 0.1,\n    minScale: 1.0,\n    maxScale: 1.0,\n    edgeRadius: 0.4,\n    edgeWeight: -20.0,\n    outsideImportance: -0.5,\n    boostWeight: 100.0,\n    ruleOfThirds: true,\n    prescale: true,\n    imageOperations: null,\n    canvasFactory: defaultCanvasFactory,\n    // Factory: defaultFactories,\n    debug: false\n  };\n\n  smartcrop.crop = function(inputImage, options_, callback) {\n    var options = extend({}, smartcrop.DEFAULTS, options_);\n\n    if (options.aspect) {\n      options.width = options.aspect;\n      options.height = 1;\n    }\n\n    if (options.imageOperations === null) {\n      options.imageOperations = canvasImageOperations(options.canvasFactory);\n    }\n\n    var iop = options.imageOperations;\n\n    var scale = 1;\n    var prescale = 1;\n\n    // open the image\n    return iop\n      .open(inputImage, options.input)\n      .then(function(image) {\n        // calculate desired crop dimensions based on the image size\n        if (options.width && options.height) {\n          scale = min(\n            image.width / options.width,\n            image.height / options.height\n          );\n          options.cropWidth = ~~(options.width * scale);\n          options.cropHeight = ~~(options.height * scale);\n          // Img = 100x100, width = 95x95, scale = 100/95, 1/scale > min\n          // don't set minscale smaller than 1/scale\n          // -> don't pick crops that need upscaling\n          options.minScale = min(\n            options.maxScale,\n            max(1 / scale, options.minScale)\n          );\n\n          // prescale if possible\n          if (options.prescale !== false) {\n            prescale = min(max(256 / image.width, 256 / image.height), 1);\n            if (prescale < 1) {\n              image = iop.resample(\n                image,\n                image.width * prescale,\n                image.height * prescale\n              );\n              options.cropWidth = ~~(options.cropWidth * prescale);\n              options.cropHeight = ~~(options.cropHeight * prescale);\n              if (options.boost) {\n                options.boost = options.boost.map(function(boost) {\n                  return {\n                    x: ~~(boost.x * prescale),\n                    y: ~~(boost.y * prescale),\n                    width: ~~(boost.width * prescale),\n                    height: ~~(boost.height * prescale),\n                    weight: boost.weight\n                  };\n                });\n              }\n            } else {\n              prescale = 1;\n            }\n          }\n        }\n        return image;\n      })\n      .then(function(image) {\n        return iop.getData(image).then(function(data) {\n          var result = analyse(options, data);\n\n          var crops = result.crops || [result.topCrop];\n          for (var i = 0, iLen = crops.length; i < iLen; i++) {\n            var crop = crops[i];\n            crop.x = ~~(crop.x / prescale);\n            crop.y = ~~(crop.y / prescale);\n            crop.width = ~~(crop.width / prescale);\n            crop.height = ~~(crop.height / prescale);\n          }\n          if (callback) callback(result);\n          return result;\n        });\n      });\n  };\n\n  // Check if all the dependencies are there\n  // todo:\n  smartcrop.isAvailable = function(options) {\n    if (!smartcrop.Promise) return false;\n\n    var canvasFactory = options ? options.canvasFactory : defaultCanvasFactory;\n\n    if (canvasFactory === defaultCanvasFactory) {\n      var c = document.createElement('canvas');\n      if (!c.getContext('2d')) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  function edgeDetect(i, o) {\n    var id = i.data;\n    var od = o.data;\n    var w = i.width;\n    var h = i.height;\n\n    for (var y = 0; y < h; y++) {\n      for (var x = 0; x < w; x++) {\n        var p = (y * w + x) * 4;\n        var lightness;\n\n        if (x === 0 || x >= w - 1 || y === 0 || y >= h - 1) {\n          lightness = sample(id, p);\n        } else {\n          lightness =\n            sample(id, p) * 4 -\n            sample(id, p - w * 4) -\n            sample(id, p - 4) -\n            sample(id, p + 4) -\n            sample(id, p + w * 4);\n        }\n\n        od[p + 1] = lightness;\n      }\n    }\n  }\n\n  function skinDetect(options, i, o) {\n    var id = i.data;\n    var od = o.data;\n    var w = i.width;\n    var h = i.height;\n\n    for (var y = 0; y < h; y++) {\n      for (var x = 0; x < w; x++) {\n        var p = (y * w + x) * 4;\n        var lightness = cie(id[p], id[p + 1], id[p + 2]) / 255;\n        var skin = skinColor(options, id[p], id[p + 1], id[p + 2]);\n        var isSkinColor = skin > options.skinThreshold;\n        var isSkinBrightness =\n          lightness >= options.skinBrightnessMin &&\n          lightness <= options.skinBrightnessMax;\n        if (isSkinColor && isSkinBrightness) {\n          od[p] =\n            (skin - options.skinThreshold) *\n            (255 / (1 - options.skinThreshold));\n        } else {\n          od[p] = 0;\n        }\n      }\n    }\n  }\n\n  function saturationDetect(options, i, o) {\n    var id = i.data;\n    var od = o.data;\n    var w = i.width;\n    var h = i.height;\n    for (var y = 0; y < h; y++) {\n      for (var x = 0; x < w; x++) {\n        var p = (y * w + x) * 4;\n\n        var lightness = cie(id[p], id[p + 1], id[p + 2]) / 255;\n        var sat = saturation(id[p], id[p + 1], id[p + 2]);\n\n        var acceptableSaturation = sat > options.saturationThreshold;\n        var acceptableLightness =\n          lightness >= options.saturationBrightnessMin &&\n          lightness <= options.saturationBrightnessMax;\n        if (acceptableLightness && acceptableSaturation) {\n          od[p + 2] =\n            (sat - options.saturationThreshold) *\n            (255 / (1 - options.saturationThreshold));\n        } else {\n          od[p + 2] = 0;\n        }\n      }\n    }\n  }\n\n  function applyBoosts(options, output) {\n    if (!options.boost) return;\n    var od = output.data;\n    for (var i = 0; i < output.width; i += 4) {\n      od[i + 3] = 0;\n    }\n    for (i = 0; i < options.boost.length; i++) {\n      applyBoost(options.boost[i], options, output);\n    }\n  }\n\n  function applyBoost(boost, options, output) {\n    var od = output.data;\n    var w = output.width;\n    var x0 = ~~boost.x;\n    var x1 = ~~(boost.x + boost.width);\n    var y0 = ~~boost.y;\n    var y1 = ~~(boost.y + boost.height);\n    var weight = boost.weight * 255;\n    for (var y = y0; y < y1; y++) {\n      for (var x = x0; x < x1; x++) {\n        var i = (y * w + x) * 4;\n        od[i + 3] += weight;\n      }\n    }\n  }\n\n  function generateCrops(options, width, height) {\n    var results = [];\n    var minDimension = min(width, height);\n    var cropWidth = options.cropWidth || minDimension;\n    var cropHeight = options.cropHeight || minDimension;\n    for (\n      var scale = options.maxScale;\n      scale >= options.minScale;\n      scale -= options.scaleStep\n    ) {\n      for (var y = 0; y + cropHeight * scale <= height; y += options.step) {\n        for (var x = 0; x + cropWidth * scale <= width; x += options.step) {\n          results.push({\n            x: x,\n            y: y,\n            width: cropWidth * scale,\n            height: cropHeight * scale\n          });\n        }\n      }\n    }\n    return results;\n  }\n\n  function score(options, output, crop) {\n    var result = {\n      detail: 0,\n      saturation: 0,\n      skin: 0,\n      boost: 0,\n      total: 0\n    };\n\n    var od = output.data;\n    var downSample = options.scoreDownSample;\n    var invDownSample = 1 / downSample;\n    var outputHeightDownSample = output.height * downSample;\n    var outputWidthDownSample = output.width * downSample;\n    var outputWidth = output.width;\n\n    for (var y = 0; y < outputHeightDownSample; y += downSample) {\n      for (var x = 0; x < outputWidthDownSample; x += downSample) {\n        var p =\n          (~~(y * invDownSample) * outputWidth + ~~(x * invDownSample)) * 4;\n        var i = importance(options, crop, x, y);\n        var detail = od[p + 1] / 255;\n\n        result.skin += od[p] / 255 * (detail + options.skinBias) * i;\n        result.detail += detail * i;\n        result.saturation +=\n          od[p + 2] / 255 * (detail + options.saturationBias) * i;\n        result.boost += od[p + 3] / 255 * i;\n      }\n    }\n\n    result.total =\n      (result.detail * options.detailWeight +\n        result.skin * options.skinWeight +\n        result.saturation * options.saturationWeight +\n        result.boost * options.boostWeight) /\n      (crop.width * crop.height);\n    return result;\n  }\n\n  function importance(options, crop, x, y) {\n    if (\n      crop.x > x ||\n      x >= crop.x + crop.width ||\n      crop.y > y ||\n      y >= crop.y + crop.height\n    ) {\n      return options.outsideImportance;\n    }\n    x = (x - crop.x) / crop.width;\n    y = (y - crop.y) / crop.height;\n    var px = abs(0.5 - x) * 2;\n    var py = abs(0.5 - y) * 2;\n    // Distance from edge\n    var dx = Math.max(px - 1.0 + options.edgeRadius, 0);\n    var dy = Math.max(py - 1.0 + options.edgeRadius, 0);\n    var d = (dx * dx + dy * dy) * options.edgeWeight;\n    var s = 1.41 - sqrt(px * px + py * py);\n    if (options.ruleOfThirds) {\n      s += Math.max(0, s + d + 0.5) * 1.2 * (thirds(px) + thirds(py));\n    }\n    return s + d;\n  }\n  smartcrop.importance = importance;\n\n  function skinColor(options, r, g, b) {\n    var mag = sqrt(r * r + g * g + b * b);\n    var rd = r / mag - options.skinColor[0];\n    var gd = g / mag - options.skinColor[1];\n    var bd = b / mag - options.skinColor[2];\n    var d = sqrt(rd * rd + gd * gd + bd * bd);\n    return 1 - d;\n  }\n\n  function analyse(options, input) {\n    var result = {};\n    var output = new ImgData(input.width, input.height);\n\n    edgeDetect(input, output);\n    skinDetect(options, input, output);\n    saturationDetect(options, input, output);\n    applyBoosts(options, output);\n\n    var scoreOutput = downSample(output, options.scoreDownSample);\n\n    var topScore = -Infinity;\n    var topCrop = null;\n    var crops = generateCrops(options, input.width, input.height);\n\n    for (var i = 0, iLen = crops.length; i < iLen; i++) {\n      var crop = crops[i];\n      crop.score = score(options, scoreOutput, crop);\n      if (crop.score.total > topScore) {\n        topCrop = crop;\n        topScore = crop.score.total;\n      }\n    }\n\n    result.topCrop = topCrop;\n\n    if (options.debug && topCrop) {\n      result.crops = crops;\n      result.debugOutput = output;\n      result.debugOptions = options;\n      // Create a copy which will not be adjusted by the post scaling of smartcrop.crop\n      result.debugTopCrop = extend({}, result.topCrop);\n    }\n    return result;\n  }\n\n  function ImgData(width, height, data) {\n    this.width = width;\n    this.height = height;\n    if (data) {\n      this.data = new Uint8ClampedArray(data);\n    } else {\n      this.data = new Uint8ClampedArray(width * height * 4);\n    }\n  }\n  smartcrop.ImgData = ImgData;\n\n  function downSample(input, factor) {\n    var idata = input.data;\n    var iwidth = input.width;\n    var width = Math.floor(input.width / factor);\n    var height = Math.floor(input.height / factor);\n    var output = new ImgData(width, height);\n    var data = output.data;\n    var ifactor2 = 1 / (factor * factor);\n    for (var y = 0; y < height; y++) {\n      for (var x = 0; x < width; x++) {\n        var i = (y * width + x) * 4;\n\n        var r = 0;\n        var g = 0;\n        var b = 0;\n        var a = 0;\n\n        var mr = 0;\n        var mg = 0;\n\n        for (var v = 0; v < factor; v++) {\n          for (var u = 0; u < factor; u++) {\n            var j = ((y * factor + v) * iwidth + (x * factor + u)) * 4;\n            r += idata[j];\n            g += idata[j + 1];\n            b += idata[j + 2];\n            a += idata[j + 3];\n            mr = Math.max(mr, idata[j]);\n            mg = Math.max(mg, idata[j + 1]);\n            // unused\n            // mb = Math.max(mb, idata[j + 2]);\n          }\n        }\n        // this is some funky magic to preserve detail a bit more for\n        // skin (r) and detail (g). Saturation (b) does not get this boost.\n        data[i] = r * ifactor2 * 0.5 + mr * 0.5;\n        data[i + 1] = g * ifactor2 * 0.7 + mg * 0.3;\n        data[i + 2] = b * ifactor2;\n        data[i + 3] = a * ifactor2;\n      }\n    }\n    return output;\n  }\n  smartcrop._downSample = downSample;\n\n  function defaultCanvasFactory(w, h) {\n    var c = document.createElement('canvas');\n    c.width = w;\n    c.height = h;\n    return c;\n  }\n\n  function canvasImageOperations(canvasFactory) {\n    return {\n      // Takes imageInput as argument\n      // returns an object which has at least\n      // {width: n, height: n}\n      open: function(image) {\n        // Work around images scaled in css by drawing them onto a canvas\n        var w = image.naturalWidth || image.width;\n        var h = image.naturalHeight || image.height;\n        var c = canvasFactory(w, h);\n        var ctx = c.getContext('2d');\n        if (\n          image.naturalWidth &&\n          (image.naturalWidth != image.width ||\n            image.naturalHeight != image.height)\n        ) {\n          c.width = image.naturalWidth;\n          c.height = image.naturalHeight;\n        } else {\n          c.width = image.width;\n          c.height = image.height;\n        }\n        ctx.drawImage(image, 0, 0);\n        return smartcrop.Promise.resolve(c);\n      },\n      // Takes an image (as returned by open), and changes it's size by resampling\n      resample: function(image, width, height) {\n        return Promise.resolve(image).then(function(image) {\n          var c = canvasFactory(~~width, ~~height);\n          var ctx = c.getContext('2d');\n\n          ctx.drawImage(\n            image,\n            0,\n            0,\n            image.width,\n            image.height,\n            0,\n            0,\n            c.width,\n            c.height\n          );\n          return smartcrop.Promise.resolve(c);\n        });\n      },\n      getData: function(image) {\n        return Promise.resolve(image).then(function(c) {\n          var ctx = c.getContext('2d');\n          var id = ctx.getImageData(0, 0, c.width, c.height);\n          return new ImgData(c.width, c.height, id.data);\n        });\n      }\n    };\n  }\n  smartcrop._canvasImageOperations = canvasImageOperations;\n\n  // Aliases and helpers\n  var min = Math.min;\n  var max = Math.max;\n  var abs = Math.abs;\n  var sqrt = Math.sqrt;\n\n  function extend(o) {\n    for (var i = 1, iLen = arguments.length; i < iLen; i++) {\n      var arg = arguments[i];\n      if (arg) {\n        for (var name in arg) {\n          o[name] = arg[name];\n        }\n      }\n    }\n    return o;\n  }\n\n  // Gets value in the range of [0, 1] where 0 is the center of the pictures\n  // returns weight of rule of thirds [0, 1]\n  function thirds(x) {\n    x = (((x - 1 / 3 + 1.0) % 2.0) * 0.5 - 0.5) * 16;\n    return Math.max(1.0 - x * x, 0.0);\n  }\n\n  function cie(r, g, b) {\n    return 0.5126 * b + 0.7152 * g + 0.0722 * r;\n  }\n  function sample(id, p) {\n    return cie(id[p], id[p + 1], id[p + 2]);\n  }\n  function saturation(r, g, b) {\n    var maximum = max(r / 255, g / 255, b / 255);\n    var minumum = min(r / 255, g / 255, b / 255);\n\n    if (maximum === minumum) {\n      return 0;\n    }\n\n    var l = (maximum + minumum) / 2;\n    var d = maximum - minumum;\n\n    return l > 0.5 ? d / (2 - maximum - minumum) : d / (maximum + minumum);\n  }\n\n  // Amd\n  if (typeof define !== 'undefined' && define.amd)\n    define(function() {\n      return smartcrop;\n    });\n  // Common js\n  if (typeof exports !== 'undefined') exports.smartcrop = smartcrop;\n  else if (typeof navigator !== 'undefined')\n    // Browser\n    window.SmartCrop = window.smartcrop = smartcrop;\n  // Nodejs\n  if (typeof module !== 'undefined') {\n    module.exports = smartcrop;\n  }\n})();\n","/* eslint-env browser, node */\nimport Turbolinks from 'turbolinks';\nimport './index.scss';\nimport smartcrop from 'smartcrop';\n\n\nexport class VPageProfileAvatar extends HTMLElement {\n  connectedCallback() {\n    setTimeout(() => {\n      this._formEl = this.querySelector('form');\n      this._uploadButtonEl = this.querySelector('.vf-page-profile__avatar-change');\n      this._uploadButtonEl.addEventListener('change', this.onChangeAvatarClick);\n    });\n  }\n\n  disconnectedCallback() {\n    this._uploadButtonEl.removeEventListener('change', this.onChangeAvatarClick);\n  }\n\n  onChangeAvatarClick = (event) => {\n    const files = event.target.files;\n    if (files.length === 0 || files[0].type.indexOf('image') === -1) {\n      this.showError('No images selected');\n    }\n\n    const reader = new FileReader();\n    reader.onload = (readerEvent) => {\n      const image = new Image();\n      image.onload = () => {\n        this._crop(image).then((cropCanvas) => {\n          this._upload(cropCanvas);\n        }).catch((error) => {\n          this._showError(error.message || 'Image cropping error');\n        });\n      };\n      image.src = readerEvent.target.result;\n    };\n    reader.readAsDataURL(files[0]);\n  };\n\n  _crop(image, onSuccess) {\n    const options = {\n      minScale: 1,\n      width: 256,\n      height: 256,\n    };\n    return smartcrop.crop(image, options).then((result) => {\n      const cropCanvas = document.createElement('canvas');\n      cropCanvas.width = 256;\n      cropCanvas.height = 256;\n      cropCanvas.getContext('2d').drawImage(\n          image,\n          result.topCrop.x, result.topCrop.y, result.topCrop.width, result.topCrop.height,\n          0, 0, 256, 256,\n      );\n      return cropCanvas;\n    });\n  }\n\n  _upload(canvas) {\n    this._uploadButtonEl.classList.toggle('vf-page-profile__avatar-change--disabled');\n\n    const xhr = new XMLHttpRequest();\n    xhr.open('POST', window.location.search, true);\n    xhr.setRequestHeader('Turbolinks-Referrer', window.location);\n\n    xhr.onload = (event) => {\n      const Snapshot = Turbolinks.controller.view.getSnapshot().constructor;\n      const Location = Turbolinks.controller.view.getSnapshot().getRootLocation().constructor;\n\n      let location = xhr.getResponseHeader('turbolinks-location');\n      const snapshot = Snapshot.wrap(xhr.response);\n\n      if (!location) {\n        location = window.location.href;\n      }\n\n      Turbolinks.controller.adapter.hideProgressBar();\n      Turbolinks.controller.cache.put(new Location(location), snapshot);\n      Turbolinks.visit(location, {action: 'restore'});\n      Turbolinks.clearCache();\n\n      if (xhr.status > 299) {\n        Turbolinks.controller.disable();\n      }\n    };\n\n    xhr.onerror = (event) => {\n      Turbolinks.controller.adapter.hideProgressBar();\n      this.uploadButton_.classList.toggle('vf-profile-avatar__change--disabled');\n      this.showError('Request error');\n    };\n\n    Turbolinks.controller.adapter.showProgressBarAfterDelay();\n\n    canvas.toBlob((blob) => {\n      const formData = new FormData(this._formEl);\n      formData.append('avatar', blob, 'avatar.jpg');\n      xhr.send(formData);\n    });\n  }\n\n  _showError(message, timeout=2000) {\n    const snackbarEvent = new CustomEvent('vf-snackbar:show', {\n      'detail': {message: message, timeout: timeout},\n    });\n    window.dispatchEvent(snackbarEvent);\n  }\n}\n","/* eslint-env browser */\nimport {VPageProfileAvatar} from './vf-page-profile';\n\nwindow.customElements.define('vf-page-profile-avatar', VPageProfileAvatar);\n"],"names":["Math","max","edgeDetect","i","o","id","data","od","w","width","h","height","y","x","lightness","p","sample","skinDetect","options","cie","skin","skinColor","isSkinColor","skinThreshold","isSkinBrightness","skinBrightnessMin","skinBrightnessMax","saturationDetect","sat","saturation","acceptableSaturation","saturationThreshold","acceptableLightness","saturationBrightnessMin","saturationBrightnessMax","applyBoosts","output","boost","length","applyBoost","x0","x1","y0","y1","weight","generateCrops","results","minDimension","min","cropWidth","cropHeight","scale","maxScale","minScale","scaleStep","step","push","score","crop","result","detail","total","downSample","scoreDownSample","invDownSample","outputHeightDownSample","outputWidthDownSample","outputWidth","importance","skinBias","saturationBias","detailWeight","skinWeight","saturationWeight","boostWeight","outsideImportance","px","abs","py","dx","edgeRadius","dy","d","edgeWeight","s","sqrt","ruleOfThirds","thirds","r","g","b","mag","rd","gd","bd","analyse","input","ImgData","scoreOutput","topScore","Infinity","topCrop","crops","iLen","debug","debugOutput","debugOptions","debugTopCrop","extend","Uint8ClampedArray","factor","floor","idata","iwidth","ifactor2","a","mr","mg","v","j","u","defaultCanvasFactory","c","document","createElement","canvasImageOperations","canvasFactory","open","image","naturalWidth","naturalHeight","ctx","getContext","drawImage","smartcrop","Promise","resolve","resample","then","getData","getImageData","arg","arguments","name","maximum","minumum","Error","DEFAULTS","aspect","prescale","imageOperations","inputImage","options_","callback","iop","map","isAvailable","_downSample","_canvasImageOperations","exports","module","VPageProfileAvatar","HTMLElement","event","files","target","type","indexOf","showError","reader","FileReader","onload","readerEvent","Image","_crop","cropCanvas","_upload","catch","error","_showError","message","src","readAsDataURL","connectedCallback","setTimeout","_formEl","querySelector","_uploadButtonEl","addEventListener","onChangeAvatarClick","disconnectedCallback","removeEventListener","canvas","classList","toggle","xhr","XMLHttpRequest","window","location","search","setRequestHeader","Snapshot","Turbolinks","controller","view","getSnapshot","constructor","Location","getRootLocation","getResponseHeader","snapshot","wrap","response","href","adapter","hideProgressBar","cache","put","visit","action","clearCache","status","disable","onerror","uploadButton_","showProgressBarAfterDelay","toBlob","blob","formData","FormData","append","send","timeout","snackbarEvent","CustomEvent","dispatchEvent","customElements","define"],"mappings":"utBAAA;;;;;;;;;;;;;;;;;;;;;;;;IA0BA,CAAC,UAAW,cA8UCA,IAAI,CAACC,GA9UN,CAqJV,QAASC,CAAAA,UAAT,CAAoBC,CAApB,CAAuBC,CAAvB,CAA0B,CAMxB,OALIC,CAAAA,EAAE,CAAGF,CAAC,CAACG,IAKX,CAJIC,EAAE,CAAGH,CAAC,CAACE,IAIX,CAHIE,CAAC,CAAGL,CAAC,CAACM,KAGV,CAFIC,CAAC,CAAGP,CAAC,CAACQ,MAEV,CAASC,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGF,CAApB,CAAuBE,CAAC,EAAxB,CACE,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGL,CAApB,CAAuBK,CAAC,EAAxB,CAA4B,IAEtBC,CAAAA,SAFsB,CACtBC,CAAC,CAAiB,CAAd,EAACH,CAAC,CAAGJ,CAAJ,CAAQK,CAAT,CADkB,CAKxBC,SALwB,CAIhB,CAAN,EAAAD,CAAC,EAAUA,CAAC,EAAIL,CAAC,CAAG,CAApB,EAA+B,CAAN,GAAAI,CAAzB,EAAoCA,CAAC,EAAIF,CAAC,CAAG,CAJvB,CAKZM,MAAM,CAACX,EAAD,CAAKU,CAAL,CALM,CAQN,CAAhB,CAAAC,MAAM,CAACX,EAAD,CAAKU,CAAL,CAAN,CACAC,MAAM,CAACX,EAAD,CAAKU,CAAC,CAAO,CAAJ,CAAAP,CAAT,CADN,CAEAQ,MAAM,CAACX,EAAD,CAAKU,CAAC,CAAG,CAAT,CAFN,CAGAC,MAAM,CAACX,EAAD,CAAKU,CAAC,CAAG,CAAT,CAHN,CAIAC,MAAM,CAACX,EAAD,CAAKU,CAAC,CAAO,CAAJ,CAAAP,CAAT,CAZgB,CAe1BD,EAAE,CAACQ,CAAC,CAAG,CAAL,CAAF,CAAYD,SACb,CAEJ,CAED,QAASG,CAAAA,UAAT,CAAoBC,OAApB,CAA6Bf,CAA7B,CAAgCC,CAAhC,CAAmC,CAMjC,OALIC,CAAAA,EAAE,CAAGF,CAAC,CAACG,IAKX,CAJIC,EAAE,CAAGH,CAAC,CAACE,IAIX,CAHIE,CAAC,CAAGL,CAAC,CAACM,KAGV,CAFIC,CAAC,CAAGP,CAAC,CAACQ,MAEV,CAASC,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGF,CAApB,CAAuBE,CAAC,EAAxB,CACE,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGL,CAApB,CAAuBK,CAAC,EAAxB,CAA4B,IACtBE,CAAAA,CAAC,CAAiB,CAAd,EAACH,CAAC,CAAGJ,CAAJ,CAAQK,CAAT,CADkB,CAEtBC,SAAS,CAAGK,GAAG,CAACd,EAAE,CAACU,CAAD,CAAH,CAAQV,EAAE,CAACU,CAAC,CAAG,CAAL,CAAV,CAAmBV,EAAE,CAACU,CAAC,CAAG,CAAL,CAArB,CAAH,CAAmC,GAFzB,CAGtBK,IAAI,CAAGC,SAAS,CAACH,OAAD,CAAUb,EAAE,CAACU,CAAD,CAAZ,CAAiBV,EAAE,CAACU,CAAC,CAAG,CAAL,CAAnB,CAA4BV,EAAE,CAACU,CAAC,CAAG,CAAL,CAA9B,CAHM,CAItBO,WAAW,CAAGF,IAAI,CAAGF,OAAO,CAACK,aAJP,CAKtBC,gBAAgB,CAClBV,SAAS,EAAII,OAAO,CAACO,iBAArB,EACAX,SAAS,EAAII,OAAO,CAACQ,iBAPG,CASxBnB,EAAE,CAACQ,CAAD,CATsB,CAQtBO,WAAW,EAAIE,gBARO,CAUtB,CAACJ,IAAI,CAAGF,OAAO,CAACK,aAAhB,GACC,KAAO,EAAIL,OAAO,CAACK,aAAnB,CADD,CAVsB,CAahB,CAEX,CAEJ,CAED,QAASI,CAAAA,gBAAT,CAA0BT,OAA1B,CAAmCf,CAAnC,CAAsCC,CAAtC,CAAyC,CAKvC,OAJIC,CAAAA,EAAE,CAAGF,CAAC,CAACG,IAIX,CAHIC,EAAE,CAAGH,CAAC,CAACE,IAGX,CAFIE,CAAC,CAAGL,CAAC,CAACM,KAEV,CADIC,CAAC,CAAGP,CAAC,CAACQ,MACV,CAASC,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGF,CAApB,CAAuBE,CAAC,EAAxB,CACE,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGL,CAApB,CAAuBK,CAAC,EAAxB,CAA4B,IACtBE,CAAAA,CAAC,CAAiB,CAAd,EAACH,CAAC,CAAGJ,CAAJ,CAAQK,CAAT,CADkB,CAGtBC,SAAS,CAAGK,GAAG,CAACd,EAAE,CAACU,CAAD,CAAH,CAAQV,EAAE,CAACU,CAAC,CAAG,CAAL,CAAV,CAAmBV,EAAE,CAACU,CAAC,CAAG,CAAL,CAArB,CAAH,CAAmC,GAHzB,CAItBa,GAAG,CAAGC,UAAU,CAACxB,EAAE,CAACU,CAAD,CAAH,CAAQV,EAAE,CAACU,CAAC,CAAG,CAAL,CAAV,CAAmBV,EAAE,CAACU,CAAC,CAAG,CAAL,CAArB,CAJM,CAMtBe,oBAAoB,CAAGF,GAAG,CAAGV,OAAO,CAACa,mBANf,CAOtBC,mBAAmB,CACrBlB,SAAS,EAAII,OAAO,CAACe,uBAArB,EACAnB,SAAS,EAAII,OAAO,CAACgB,uBATG,CAWxB3B,EAAE,CAACQ,CAAC,CAAG,CAAL,CAXsB,CAUtBiB,mBAAmB,EAAIF,oBAVD,CAYtB,CAACF,GAAG,CAAGV,OAAO,CAACa,mBAAf,GACC,KAAO,EAAIb,OAAO,CAACa,mBAAnB,CADD,CAZsB,CAeZ,CAEf,CAEJ,CAED,QAASI,CAAAA,WAAT,CAAqBjB,OAArB,CAA8BkB,MAA9B,CAAsC,CACpC,GAAKlB,OAAO,CAACmB,KAAb,EAEA,OADI9B,CAAAA,EAAE,CAAG6B,MAAM,CAAC9B,IAChB,CAASH,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGiC,MAAM,CAAC3B,KAA3B,CAAkCN,CAAC,EAAI,CAAvC,CACEI,EAAE,CAACJ,CAAC,CAAG,CAAL,CAAF,CAAY,CAAZ,CAEF,IAAKA,CAAC,CAAG,CAAT,CAAYA,CAAC,CAAGe,OAAO,CAACmB,KAAR,CAAcC,MAA9B,CAAsCnC,CAAC,EAAvC,CACEoC,UAAU,CAACrB,OAAO,CAACmB,KAAR,CAAclC,CAAd,CAAD,CAAmBe,OAAnB,CAA4BkB,MAA5B,CANZ,CAQD,CAED,QAASG,CAAAA,UAAT,CAAoBF,KAApB,CAA2BnB,OAA3B,CAAoCkB,MAApC,CAA4C,CAQ1C,OAPI7B,CAAAA,EAAE,CAAG6B,MAAM,CAAC9B,IAOhB,CANIE,CAAC,CAAG4B,MAAM,CAAC3B,KAMf,CALI+B,EAAE,CAAG,CAAC,CAACH,KAAK,CAACxB,CAKjB,CAJI4B,EAAE,CAAG,CAAC,EAAEJ,KAAK,CAACxB,CAAN,CAAUwB,KAAK,CAAC5B,KAAlB,CAIV,CAHIiC,EAAE,CAAG,CAAC,CAACL,KAAK,CAACzB,CAGjB,CAFI+B,EAAE,CAAG,CAAC,EAAEN,KAAK,CAACzB,CAAN,CAAUyB,KAAK,CAAC1B,MAAlB,CAEV,CADIiC,MAAM,CAAkB,GAAf,CAAAP,KAAK,CAACO,MACnB,CAAShC,CAAC,CAAG8B,EAAb,CAAiB9B,CAAC,CAAG+B,EAArB,CAAyB/B,CAAC,EAA1B,CACE,IAAK,GACCT,CAAAA,CADD,CAAIU,CAAC,CAAG2B,EAAb,CAAiB3B,CAAC,CAAG4B,EAArB,CAAyB5B,CAAC,EAA1B,CACMV,CADN,CACwB,CAAd,EAACS,CAAC,CAAGJ,CAAJ,CAAQK,CAAT,CADV,CAEEN,EAAE,CAACJ,CAAC,CAAG,CAAL,CAAF,EAAayC,MAGlB,CAED,QAASC,CAAAA,aAAT,CAAuB3B,OAAvB,CAAgCT,KAAhC,CAAuCE,MAAvC,CAA+C,CAK7C,OAJImC,CAAAA,OAAO,CAAG,EAId,CAHIC,YAAY,CAAGC,GAAG,CAACvC,KAAD,CAAQE,MAAR,CAGtB,CAFIsC,SAAS,CAAG/B,OAAO,CAAC+B,SAAR,EAAqBF,YAErC,CADIG,UAAU,CAAGhC,OAAO,CAACgC,UAAR,EAAsBH,YACvC,CACMI,KAAK,CAAGjC,OAAO,CAACkC,QADtB,CAEED,KAAK,EAAIjC,OAAO,CAACmC,QAFnB,CAGEF,KAAK,EAAIjC,OAAO,CAACoC,SAHnB,CAKE,IAAK,GAAI1C,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGsC,UAAU,CAAGC,KAAjB,EAA0BxC,MAA1C,CAAkDC,CAAC,EAAIM,OAAO,CAACqC,IAA/D,CACE,IAAK,GAAI1C,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGoC,SAAS,CAAGE,KAAhB,EAAyB1C,KAAzC,CAAgDI,CAAC,EAAIK,OAAO,CAACqC,IAA7D,CACET,OAAO,CAACU,IAAR,CAAa,CACX3C,CAAC,CAAEA,CADQ,CAEXD,CAAC,CAAEA,CAFQ,CAGXH,KAAK,CAAEwC,SAAS,CAAGE,KAHR,CAIXxC,MAAM,CAAEuC,UAAU,CAAGC,KAJV,CAAb,EASN,MAAOL,CAAAA,OACR,CAED,QAASW,CAAAA,KAAT,CAAevC,OAAf,CAAwBkB,MAAxB,CAAgCsB,IAAhC,CAAsC,CAgBpC,OAfIC,CAAAA,MAAM,CAAG,CACXC,MAAM,CAAE,CADG,CAEX/B,UAAU,CAAE,CAFD,CAGXT,IAAI,CAAE,CAHK,CAIXiB,KAAK,CAAE,CAJI,CAKXwB,KAAK,CAAE,CALI,CAeb,CAPItD,EAAE,CAAG6B,MAAM,CAAC9B,IAOhB,CANIwD,UAAU,CAAG5C,OAAO,CAAC6C,eAMzB,CALIC,aAAa,CAAG,EAAIF,UAKxB,CAJIG,sBAAsB,CAAG7B,MAAM,CAACzB,MAAP,CAAgBmD,UAI7C,CAHII,qBAAqB,CAAG9B,MAAM,CAAC3B,KAAP,CAAeqD,UAG3C,CAFIK,WAAW,CAAG/B,MAAM,CAAC3B,KAEzB,CAASG,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGqD,sBAApB,CAA4CrD,CAAC,EAAIkD,UAAjD,CACE,IAAK,GAAIjD,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGqD,qBAApB,CAA2CrD,CAAC,EAAIiD,UAAhD,CAA4D,IACtD/C,CAAAA,CAAC,CAC6D,CAAhE,EAAC,CAAC,EAAEH,CAAC,CAAGoD,aAAN,CAAD,CAAwBG,WAAxB,CAAsC,CAAC,EAAEtD,CAAC,CAAGmD,aAAN,CAAxC,CAFwD,CAGtD7D,CAAC,CAAGiE,UAAU,CAAClD,OAAD,CAAUwC,IAAV,CAAgB7C,CAAhB,CAAmBD,CAAnB,CAHwC,CAItDgD,MAAM,CAAGrD,EAAE,CAACQ,CAAC,CAAG,CAAL,CAAF,CAAY,GAJiC,CAM1D4C,MAAM,CAACvC,IAAP,EAAeb,EAAE,CAACQ,CAAD,CAAF,CAAQ,GAAR,EAAe6C,MAAM,CAAG1C,OAAO,CAACmD,QAAhC,EAA4ClE,CAND,CAO1DwD,MAAM,CAACC,MAAP,EAAiBA,MAAM,CAAGzD,CAPgC,CAQ1DwD,MAAM,CAAC9B,UAAP,EACEtB,EAAE,CAACQ,CAAC,CAAG,CAAL,CAAF,CAAY,GAAZ,EAAmB6C,MAAM,CAAG1C,OAAO,CAACoD,cAApC,EAAsDnE,CATE,CAU1DwD,MAAM,CAACtB,KAAP,EAAgB9B,EAAE,CAACQ,CAAC,CAAG,CAAL,CAAF,CAAY,GAAZ,CAAkBZ,CACnC,CASH,MANAwD,CAAAA,MAAM,CAACE,KAAP,CACE,CAACF,MAAM,CAACC,MAAP,CAAgB1C,OAAO,CAACqD,YAAxB,CACCZ,MAAM,CAACvC,IAAP,CAAcF,OAAO,CAACsD,UADvB,CAECb,MAAM,CAAC9B,UAAP,CAAoBX,OAAO,CAACuD,gBAF7B,CAGCd,MAAM,CAACtB,KAAP,CAAenB,OAAO,CAACwD,WAHzB,GAIChB,IAAI,CAACjD,KAAL,CAAaiD,IAAI,CAAC/C,MAJnB,CAKF,CAAOgD,MACR,CAED,QAASS,CAAAA,UAAT,CAAoBlD,OAApB,CAA6BwC,IAA7B,CAAmC7C,CAAnC,CAAsCD,CAAtC,CAAyC,CACvC,GACE8C,IAAI,CAAC7C,CAAL,CAASA,CAAT,EACAA,CAAC,EAAI6C,IAAI,CAAC7C,CAAL,CAAS6C,IAAI,CAACjD,KADnB,EAEAiD,IAAI,CAAC9C,CAAL,CAASA,CAFT,EAGAA,CAAC,EAAI8C,IAAI,CAAC9C,CAAL,CAAS8C,IAAI,CAAC/C,MAJrB,CAME,MAAOO,CAAAA,OAAO,CAACyD,iBAAf,CAEF9D,CAAC,CAAG,CAACA,CAAC,CAAG6C,IAAI,CAAC7C,CAAV,EAAe6C,IAAI,CAACjD,KATe,CAUvCG,CAAC,CAAG,CAACA,CAAC,CAAG8C,IAAI,CAAC9C,CAAV,EAAe8C,IAAI,CAAC/C,MAVe,IAWnCiE,CAAAA,EAAE,CAAkB,CAAf,CAAAC,GAAG,CAAC,GAAMhE,CAAP,CAX2B,CAYnCiE,EAAE,CAAkB,CAAf,CAAAD,GAAG,CAAC,GAAMjE,CAAP,CAZ2B,CAcnCmE,EAAE,CAAG,SAASH,EAAE,CAAG,CAAL,CAAW1D,OAAO,CAAC8D,UAA5B,CAAwC,CAAxC,CAd8B,CAenCC,EAAE,CAAG,SAASH,EAAE,CAAG,CAAL,CAAW5D,OAAO,CAAC8D,UAA5B,CAAwC,CAAxC,CAf8B,CAgBnCE,CAAC,CAAG,CAACH,EAAE,CAAGA,EAAL,CAAUE,EAAE,CAAGA,EAAhB,EAAsB/D,OAAO,CAACiE,UAhBC,CAiBnCC,CAAC,CAAG,KAAOC,IAAI,CAACT,EAAE,CAAGA,EAAL,CAAUE,EAAE,CAAGA,EAAhB,CAjBoB,CAqBvC,MAHI5D,CAAAA,OAAO,CAACoE,YAGZ,GAFEF,CAAC,EAA+B,GAA3B,UAAS,CAAT,CAAYA,CAAC,CAAGF,CAAJ,CAAQ,EAApB,GAAkCK,MAAM,CAACX,EAAD,CAAN,CAAaW,MAAM,CAACT,EAAD,CAArD,CAEP,EAAOM,CAAC,CAAGF,CACZ,CAGD,QAAS7D,CAAAA,SAAT,CAAmBH,OAAnB,CAA4BsE,CAA5B,CAA+BC,CAA/B,CAAkCC,CAAlC,CAAqC,IAC/BC,CAAAA,GAAG,CAAGN,IAAI,CAACG,CAAC,CAAGA,CAAJ,CAAQC,CAAC,CAAGA,CAAZ,CAAgBC,CAAC,CAAGA,CAArB,CADqB,CAE/BE,EAAE,CAAGJ,CAAC,CAAGG,GAAJ,CAAUzE,OAAO,CAACG,SAAR,CAAkB,CAAlB,CAFgB,CAG/BwE,EAAE,CAAGJ,CAAC,CAAGE,GAAJ,CAAUzE,OAAO,CAACG,SAAR,CAAkB,CAAlB,CAHgB,CAI/ByE,EAAE,CAAGJ,CAAC,CAAGC,GAAJ,CAAUzE,OAAO,CAACG,SAAR,CAAkB,CAAlB,CAJgB,CAK/B6D,CAAC,CAAGG,IAAI,CAACO,EAAE,CAAGA,EAAL,CAAUC,EAAE,CAAGA,EAAf,CAAoBC,EAAE,CAAGA,EAA1B,CALuB,CAMnC,MAAO,GAAIZ,CACZ,CAED,QAASa,CAAAA,OAAT,CAAiB7E,OAAjB,CAA0B8E,KAA1B,CAAiC,IAC3BrC,CAAAA,MAAM,CAAG,EADkB,CAE3BvB,MAAM,CAAG,GAAI6D,CAAAA,OAAJ,CAAYD,KAAK,CAACvF,KAAlB,CAAyBuF,KAAK,CAACrF,MAA/B,CAFkB,CAI/BT,UAAU,CAAC8F,KAAD,CAAQ5D,MAAR,CAJqB,CAK/BnB,UAAU,CAACC,OAAD,CAAU8E,KAAV,CAAiB5D,MAAjB,CALqB,CAM/BT,gBAAgB,CAACT,OAAD,CAAU8E,KAAV,CAAiB5D,MAAjB,CANe,CAO/BD,WAAW,CAACjB,OAAD,CAAUkB,MAAV,CAPoB,CAe/B,OACMsB,CAAAA,IADN,CANIwC,WAAW,CAAGpC,UAAU,CAAC1B,MAAD,CAASlB,OAAO,CAAC6C,eAAjB,CAM5B,CAJIoC,QAAQ,CAAG,CAACC,QAIhB,CAHIC,OAAO,CAAG,IAGd,CAFIC,KAAK,CAAGzD,aAAa,CAAC3B,OAAD,CAAU8E,KAAK,CAACvF,KAAhB,CAAuBuF,KAAK,CAACrF,MAA7B,CAEzB,CAASR,CAAC,CAAG,CAAb,CAAgBoG,IAAI,CAAGD,KAAK,CAAChE,MAA7B,CAAqCnC,CAAC,CAAGoG,IAAzC,CAA+CpG,CAAC,EAAhD,CACMuD,IADN,CACa4C,KAAK,CAACnG,CAAD,CADlB,CAEEuD,IAAI,CAACD,KAAL,CAAaA,KAAK,CAACvC,OAAD,CAAUgF,WAAV,CAAuBxC,IAAvB,CAFpB,CAGMA,IAAI,CAACD,KAAL,CAAWI,KAAX,CAAmBsC,QAHzB,GAIIE,OAAO,CAAG3C,IAJd,CAKIyC,QAAQ,CAAGzC,IAAI,CAACD,KAAL,CAAWI,KAL1B,EAkBA,MATAF,CAAAA,MAAM,CAAC0C,OAAP,CAAiBA,OASjB,CAPInF,OAAO,CAACsF,KAAR,EAAiBH,OAOrB,GANE1C,MAAM,CAAC2C,KAAP,CAAeA,KAMjB,CALE3C,MAAM,CAAC8C,WAAP,CAAqBrE,MAKvB,CAJEuB,MAAM,CAAC+C,YAAP,CAAsBxF,OAIxB,CAFEyC,MAAM,CAACgD,YAAP,CAAsBC,MAAM,CAAC,EAAD,CAAKjD,MAAM,CAAC0C,OAAZ,CAE9B,EAAO1C,MACR,CAED,QAASsC,CAAAA,OAAT,CAAiBxF,KAAjB,CAAwBE,MAAxB,CAAgCL,IAAhC,CAAsC,CACpC,KAAKG,KAAL,CAAaA,KADuB,CAEpC,KAAKE,MAAL,CAAcA,MAFsB,CAIlC,KAAKL,IAJ6B,CAGhCA,IAHgC,CAItB,GAAIuG,CAAAA,iBAAJ,CAAsBvG,IAAtB,CAJsB,CAMtB,GAAIuG,CAAAA,iBAAJ,CAAuC,CAAjB,EAAApG,KAAK,CAAGE,MAAR,CAAtB,CAEf,CAGD,QAASmD,CAAAA,UAAT,CAAoBkC,KAApB,CAA2Bc,MAA3B,CAAmC,CAQjC,mBALY9G,IAAI,CAAC+G,KAKjB,CAPIC,KAAK,CAAGhB,KAAK,CAAC1F,IAOlB,CANI2G,MAAM,CAAGjB,KAAK,CAACvF,KAMnB,CALIA,KAAK,CAAG,WAAWuF,KAAK,CAACvF,KAAN,CAAcqG,MAAzB,CAKZ,CAJInG,MAAM,CAAG,WAAWqF,KAAK,CAACrF,MAAN,CAAemG,MAA1B,CAIb,CAHI1E,MAAM,CAAG,GAAI6D,CAAAA,OAAJ,CAAYxF,KAAZ,CAAmBE,MAAnB,CAGb,CAFIL,IAAI,CAAG8B,MAAM,CAAC9B,IAElB,CADI4G,QAAQ,CAAG,GAAKJ,MAAM,CAAGA,MAAd,CACf,CAASlG,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGD,MAApB,CAA4BC,CAAC,EAA7B,CACE,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGJ,KAApB,CAA2BI,CAAC,EAA5B,CAAgC,CAW9B,OAVIV,CAAAA,CAAC,CAAqB,CAAlB,EAACS,CAAC,CAAGH,KAAJ,CAAYI,CAAb,CAUR,CARI2E,CAAC,CAAG,CAQR,CAPIC,CAAC,CAAG,CAOR,CANIC,CAAC,CAAG,CAMR,CALIyB,CAAC,CAAG,CAKR,CAHIC,EAAE,CAAG,CAGT,CAFIC,EAAE,CAAG,CAET,CAASC,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGR,MAApB,CAA4BQ,CAAC,EAA7B,CACE,IAAK,GACCC,CAAAA,CADD,CAAIC,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGV,MAApB,CAA4BU,CAAC,EAA7B,CACMD,CADN,CAC2D,CAAjD,EAAC,CAAC3G,CAAC,CAAGkG,MAAJ,CAAaQ,CAAd,EAAmBL,MAAnB,EAA6BpG,CAAC,CAAGiG,MAAJ,CAAaU,CAA1C,CAAD,CADV,CAEEhC,CAAC,EAAIwB,KAAK,CAACO,CAAD,CAFZ,CAGE9B,CAAC,EAAIuB,KAAK,CAACO,CAAC,CAAG,CAAL,CAHZ,CAIE7B,CAAC,EAAIsB,KAAK,CAACO,CAAC,CAAG,CAAL,CAJZ,CAKEJ,CAAC,EAAIH,KAAK,CAACO,CAAC,CAAG,CAAL,CALZ,CAMEH,EAAE,CAAG,SAASA,EAAT,CAAaJ,KAAK,CAACO,CAAD,CAAlB,CANP,CAOEF,EAAE,CAAG,SAASA,EAAT,CAAaL,KAAK,CAACO,CAAC,CAAG,CAAL,CAAlB,CAPP;;AAcFjH,IAAI,CAACH,CAAD,CAAJ,CAAyB,EAAf,EAAAqF,CAAC,CAAG0B,QAAJ,EAA0B,EAAL,CAAAE,EA1BD,CA2B9B9G,IAAI,CAACH,CAAC,CAAG,CAAL,CAAJ,CAA6B,EAAf,EAAAsF,CAAC,CAAGyB,QAAJ,EAA0B,EAAL,CAAAG,EA3BL,CA4B9B/G,IAAI,CAACH,CAAC,CAAG,CAAL,CAAJ,CAAcuF,CAAC,CAAGwB,QA5BY,CA6B9B5G,IAAI,CAACH,CAAC,CAAG,CAAL,CAAJ,CAAcgH,CAAC,CAAGD,QACnB,CAEH,MAAO9E,CAAAA,MACR,CAGD,QAASqF,CAAAA,oBAAT,CAA8BjH,CAA9B,CAAiCE,CAAjC,CAAoC,CAClC,GAAIgH,CAAAA,CAAC,CAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAR,CAGA,MAFAF,CAAAA,CAAC,CAACjH,KAAF,CAAUD,CAEV,CADAkH,CAAC,CAAC/G,MAAF,CAAWD,CACX,CAAOgH,CACR,CAED,QAASG,CAAAA,qBAAT,CAA+BC,aAA/B,CAA8C,CAC5C,MAAO;;;AAILC,IAAI,CAAE,SAASC,KAAT,CAAgB;AAAA,GAEhBxH,CAAAA,CAAC,CAAGwH,KAAK,CAACC,YAAN,EAAsBD,KAAK,CAACvH,KAFhB,CAGhBC,CAAC,CAAGsH,KAAK,CAACE,aAAN,EAAuBF,KAAK,CAACrH,MAHjB,CAIhB+G,CAAC,CAAGI,aAAa,CAACtH,CAAD,CAAIE,CAAJ,CAJD,CAKhByH,GAAG,CAAGT,CAAC,CAACU,UAAF,CAAa,IAAb,CALU,CAkBpB,MAXEJ,CAAAA,KAAK,CAACC,YAAN,GACCD,KAAK,CAACC,YAAN,EAAsBD,KAAK,CAACvH,KAA5B,EACCuH,KAAK,CAACE,aAAN,EAAuBF,KAAK,CAACrH,MAF/B,CAWF,EAPE+G,CAAC,CAACjH,KAAF,CAAUuH,KAAK,CAACC,YAOlB,CANEP,CAAC,CAAC/G,MAAF,CAAWqH,KAAK,CAACE,aAMnB,GAJER,CAAC,CAACjH,KAAF,CAAUuH,KAAK,CAACvH,KAIlB,CAHEiH,CAAC,CAAC/G,MAAF,CAAWqH,KAAK,CAACrH,MAGnB,EADAwH,GAAG,CAACE,SAAJ,CAAcL,KAAd,CAAqB,CAArB,CAAwB,CAAxB,CACA,CAAOM,SAAS,CAACC,OAAV,CAAkBC,OAAlB,CAA0Bd,CAA1B,CACR,CAvBI;AAyBLe,QAAQ,CAAE,SAAST,KAAT,CAAgBvH,KAAhB,CAAuBE,MAAvB,CAA+B,CACvC,MAAO4H,CAAAA,OAAO,CAACC,OAAR,CAAgBR,KAAhB,EAAuBU,IAAvB,CAA4B,SAASV,KAAT,CAAgB,IAC7CN,CAAAA,CAAC,CAAGI,aAAa,CAAC,CAAC,CAACrH,KAAH,CAAU,CAAC,CAACE,MAAZ,CAD4B,CAE7CwH,GAAG,CAAGT,CAAC,CAACU,UAAF,CAAa,IAAb,CAFuC,CAejD,MAXAD,CAAAA,GAAG,CAACE,SAAJ,CACEL,KADF,CAEE,CAFF,CAGE,CAHF,CAIEA,KAAK,CAACvH,KAJR,CAKEuH,KAAK,CAACrH,MALR,CAME,CANF,CAOE,CAPF,CAQE+G,CAAC,CAACjH,KARJ,CASEiH,CAAC,CAAC/G,MATJ,CAWA,CAAO2H,SAAS,CAACC,OAAV,CAAkBC,OAAlB,CAA0Bd,CAA1B,CACR,CAhBM,CAiBR,CA3CI,CA4CLiB,OAAO,CAAE,SAASX,KAAT,CAAgB,CACvB,MAAOO,CAAAA,OAAO,CAACC,OAAR,CAAgBR,KAAhB,EAAuBU,IAAvB,CAA4B,SAAShB,CAAT,CAAY,IACzCS,CAAAA,GAAG,CAAGT,CAAC,CAACU,UAAF,CAAa,IAAb,CADmC,CAEzC/H,EAAE,CAAG8H,GAAG,CAACS,YAAJ,CAAiB,CAAjB,CAAoB,CAApB,CAAuBlB,CAAC,CAACjH,KAAzB,CAAgCiH,CAAC,CAAC/G,MAAlC,CAFoC,CAG7C,MAAO,IAAIsF,CAAAA,OAAJ,CAAYyB,CAAC,CAACjH,KAAd,CAAqBiH,CAAC,CAAC/G,MAAvB,CAA+BN,EAAE,CAACC,IAAlC,CACR,CAJM,CAKR,CAlDI,CAoDR,CASD,QAASsG,CAAAA,MAAT,CAAgBxG,CAAhB,CAAmB,CACjB,IAAK,GACCyI,CAAAA,GADD,CAAI1I,CAAC,CAAG,CAAR,CAAWoG,IAAI,CAAGuC,SAAS,CAACxG,MAAjC,CAAyCnC,CAAC,CAAGoG,IAA7C,CAAmDpG,CAAC,EAApD,CAEE,GADI0I,GACJ,CADUC,SAAS,CAAC3I,CAAD,CACnB,CAAI0I,GAAJ,CACE,IAAK,GAAIE,CAAAA,IAAT,GAAiBF,CAAAA,GAAjB,CACEzI,CAAC,CAAC2I,IAAD,CAAD,CAAUF,GAAG,CAACE,IAAD,CAAb,CAIN,MAAO3I,CAAAA,CACR;;AAID,QAASmF,CAAAA,MAAT,CAAgB1E,CAAhB,CAAmB,CAEjB,MADAA,CAAAA,CAAC,CAA6C,EAA1C,EAA6B,EAA5B,EAAC,CAACA,CAAC,CAAG,EAAI,CAAR,CAAY,CAAb,EAAoB,CAArB,EAAkC,EAAnC,CACJ,CAAO,SAAS,EAAMA,CAAC,CAAGA,CAAnB,CAAsB,CAAtB,CACR,CAED,QAASM,CAAAA,GAAT,CAAaqE,CAAb,CAAgBC,CAAhB,CAAmBC,CAAnB,CAAsB,CACpB,MAAO,OAASA,CAAT,CAAa,MAASD,CAAtB,CAA0B,MAASD,CAC3C,CACD,QAASxE,CAAAA,MAAT,CAAgBX,EAAhB,CAAoBU,CAApB,CAAuB,CACrB,MAAOI,CAAAA,GAAG,CAACd,EAAE,CAACU,CAAD,CAAH,CAAQV,EAAE,CAACU,CAAC,CAAG,CAAL,CAAV,CAAmBV,EAAE,CAACU,CAAC,CAAG,CAAL,CAArB,CACX,CACD,QAASc,CAAAA,UAAT,CAAoB2D,CAApB,CAAuBC,CAAvB,CAA0BC,CAA1B,CAA6B,IACvBsD,CAAAA,OAAO,CAAG/I,GAAG,CAACuF,CAAC,CAAG,GAAL,CAAUC,CAAC,CAAG,GAAd,CAAmBC,CAAC,CAAG,GAAvB,CADU,CAEvBuD,OAAO,CAAGjG,GAAG,CAACwC,CAAC,CAAG,GAAL,CAAUC,CAAC,CAAG,GAAd,CAAmBC,CAAC,CAAG,GAAvB,CAFU,CAI3B,GAAIsD,OAAO,GAAKC,OAAhB,CACE,MAAO,EAAP,CALyB,GASvB/D,CAAAA,CAAC,CAAG8D,OAAO,CAAGC,OATS,CAW3B,MAAW,GAAJ,CAHC,CAACD,OAAO,CAAGC,OAAX,EAAsB,CAGvB,CAAU/D,CAAC,EAAI,EAAI8D,OAAJ,CAAcC,OAAlB,CAAX,CAAwC/D,CAAC,EAAI8D,OAAO,CAAGC,OAAd,CACjD;AAriBD,GAAIX,CAAAA,SAAS,CAAG,EAAhB;AAEAA,SAAS,CAACC,OAAV,CACqB,WAAnB,QAAOA,CAAAA,OAAP,CAEI,UAAW,CACX,KAAM,IAAIW,CAAAA,KAAJ,CAAU,mDAAV,CACP,CAJH,CACIX,OAPI,CAYVD,SAAS,CAACa,QAAV,CAAqB,CACnB1I,KAAK,CAAE,CADY,CAEnBE,MAAM,CAAE,CAFW,CAGnByI,MAAM,CAAE,CAHW,CAInBnG,SAAS,CAAE,CAJQ,CAKnBC,UAAU,CAAE,CALO,CAMnBqB,YAAY,CAAE,EANK,CAOnBlD,SAAS,CAAE,CAAC,GAAD,CAAO,GAAP,CAAa,GAAb,CAPQ,CAQnBgD,QAAQ,CAAE,GARS,CASnB5C,iBAAiB,CAAE,EATA,CAUnBC,iBAAiB,CAAE,CAVA,CAWnBH,aAAa,CAAE,EAXI,CAYnBiD,UAAU,CAAE,GAZO,CAanBvC,uBAAuB,CAAE,GAbN,CAcnBC,uBAAuB,CAAE,EAdN,CAenBH,mBAAmB,CAAE,EAfF,CAgBnBuC,cAAc,CAAE,EAhBG,CAiBnBG,gBAAgB,CAAE,EAjBC;AAmBnBV,eAAe,CAAE,CAnBE,CAoBnBR,IAAI,CAAE,CApBa,CAqBnBD,SAAS,CAAE,EArBQ,CAsBnBD,QAAQ,CAAE,CAtBS,CAuBnBD,QAAQ,CAAE,CAvBS,CAwBnB4B,UAAU,CAAE,EAxBO,CAyBnBG,UAAU,CAAE,CAAC,EAzBM,CA0BnBR,iBAAiB,CAAE,CAAC,EA1BD,CA2BnBD,WAAW,CAAE,GA3BM,CA4BnBY,YAAY,GA5BO,CA6BnB+D,QAAQ,GA7BW,CA8BnBC,eAAe,CAAE,IA9BE,CA+BnBxB,aAAa,CAAEL,oBA/BI;AAiCnBjB,KAAK,GAjCc,CAZX,CAgDV8B,SAAS,CAAC5E,IAAV,CAAiB,SAAS6F,UAAT,CAAqBC,QAArB,CAA+BC,QAA/B,CAAyC,CACxD,GAAIvI,CAAAA,OAAO,CAAG0F,MAAM,CAAC,EAAD,CAAK0B,SAAS,CAACa,QAAf,CAAyBK,QAAzB,CAApB,CAEItI,OAAO,CAACkI,MAH4C,GAItDlI,OAAO,CAACT,KAAR,CAAgBS,OAAO,CAACkI,MAJ8B,CAKtDlI,OAAO,CAACP,MAAR,CAAiB,CALqC,EAQxB,IAA5B,GAAAO,OAAO,CAACoI,eAR4C,GAStDpI,OAAO,CAACoI,eAAR,CAA0BzB,qBAAqB,CAAC3G,OAAO,CAAC4G,aAAT,CATO,KAYpD4B,CAAAA,GAAG,CAAGxI,OAAO,CAACoI,eAZsC,CAcpDnG,KAAK,CAAG,CAd4C,CAepDkG,QAAQ,CAAG,CAfyC;AAkBxD,MAAOK,CAAAA,GAAG,CACP3B,IADI,CACCwB,UADD,CACarI,OAAO,CAAC8E,KADrB,EAEJ0C,IAFI,CAEC,SAASV,KAAT,CAAgB,CA4CpB,MA1CI9G,CAAAA,OAAO,CAACT,KAAR,EAAiBS,OAAO,CAACP,MA0C7B,GAzCEwC,KAAK,CAAGH,GAAG,CACTgF,KAAK,CAACvH,KAAN,CAAcS,OAAO,CAACT,KADb,CAETuH,KAAK,CAACrH,MAAN,CAAeO,OAAO,CAACP,MAFd,CAyCb,CArCEO,OAAO,CAAC+B,SAAR,CAAoB,CAAC,EAAE/B,OAAO,CAACT,KAAR,CAAgB0C,KAAlB,CAqCvB,CApCEjC,OAAO,CAACgC,UAAR,CAAqB,CAAC,EAAEhC,OAAO,CAACP,MAAR,CAAiBwC,KAAnB,CAoCxB,CAhCEjC,OAAO,CAACmC,QAAR,CAAmBL,GAAG,CACpB9B,OAAO,CAACkC,QADY,CAEpBnD,GAAG,CAAC,EAAIkD,KAAL,CAAYjC,OAAO,CAACmC,QAApB,CAFiB,CAgCxB,CA1BM,KAAAnC,OAAO,CAACmI,QA0Bd,GAzBIA,QAAQ,CAAGrG,GAAG,CAAC/C,GAAG,CAAC,IAAM+H,KAAK,CAACvH,KAAb,CAAoB,IAAMuH,KAAK,CAACrH,MAAhC,CAAJ,CAA6C,CAA7C,CAyBlB,CAxBmB,CAAX,CAAA0I,QAwBR,EAvBMrB,KAAK,CAAG0B,GAAG,CAACjB,QAAJ,CACNT,KADM,CAENA,KAAK,CAACvH,KAAN,CAAc4I,QAFR,CAGNrB,KAAK,CAACrH,MAAN,CAAe0I,QAHT,CAuBd,CAlBMnI,OAAO,CAAC+B,SAAR,CAAoB,CAAC,EAAE/B,OAAO,CAAC+B,SAAR,CAAoBoG,QAAtB,CAkB3B,CAjBMnI,OAAO,CAACgC,UAAR,CAAqB,CAAC,EAAEhC,OAAO,CAACgC,UAAR,CAAqBmG,QAAvB,CAiB5B,CAhBUnI,OAAO,CAACmB,KAgBlB,GAfQnB,OAAO,CAACmB,KAAR,CAAgBnB,OAAO,CAACmB,KAAR,CAAcsH,GAAd,CAAkB,SAAStH,KAAT,CAAgB,CAChD,MAAO,CACLxB,CAAC,CAAE,CAAC,EAAEwB,KAAK,CAACxB,CAAN,CAAUwI,QAAZ,CADC,CAELzI,CAAC,CAAE,CAAC,EAAEyB,KAAK,CAACzB,CAAN,CAAUyI,QAAZ,CAFC,CAGL5I,KAAK,CAAE,CAAC,EAAE4B,KAAK,CAAC5B,KAAN,CAAc4I,QAAhB,CAHH,CAIL1I,MAAM,CAAE,CAAC,EAAE0B,KAAK,CAAC1B,MAAN,CAAe0I,QAAjB,CAJJ,CAKLzG,MAAM,CAAEP,KAAK,CAACO,MALT,CAOR,CARe,CAexB,GAJMyG,QAAQ,CAAG,CAIjB,GAAOrB,KACR,CA/CI,EAgDJU,IAhDI,CAgDC,SAASV,KAAT,CAAgB,CACpB,MAAO0B,CAAAA,GAAG,CAACf,OAAJ,CAAYX,KAAZ,EAAmBU,IAAnB,CAAwB,SAASpI,IAAT,CAAe,CAI5C,OACMoD,CAAAA,IADN,CAHIC,MAAM,CAAGoC,OAAO,CAAC7E,OAAD,CAAUZ,IAAV,CAGpB,CADIgG,KAAK,CAAG3C,MAAM,CAAC2C,KAAP,EAAgB,CAAC3C,MAAM,CAAC0C,OAAR,CAC5B,CAASlG,CAAC,CAAG,CAAb,CAAgBoG,IAAI,CAAGD,KAAK,CAAChE,MAA7B,CAAqCnC,CAAC,CAAGoG,IAAzC,CAA+CpG,CAAC,EAAhD,CACMuD,IADN,CACa4C,KAAK,CAACnG,CAAD,CADlB,CAEEuD,IAAI,CAAC7C,CAAL,CAAS,CAAC,EAAE6C,IAAI,CAAC7C,CAAL,CAASwI,QAAX,CAFZ,CAGE3F,IAAI,CAAC9C,CAAL,CAAS,CAAC,EAAE8C,IAAI,CAAC9C,CAAL,CAASyI,QAAX,CAHZ,CAIE3F,IAAI,CAACjD,KAAL,CAAa,CAAC,EAAEiD,IAAI,CAACjD,KAAL,CAAa4I,QAAf,CAJhB,CAKE3F,IAAI,CAAC/C,MAAL,CAAc,CAAC,EAAE+C,IAAI,CAAC/C,MAAL,CAAc0I,QAAhB,CALjB,CAQA,MADII,CAAAA,QACJ,EADcA,QAAQ,CAAC9F,MAAD,CACtB,CAAOA,MACR,CAbM,CAcR,CA/DI,CAgER,CAlIS,CAsIV2E,SAAS,CAACsB,WAAV,CAAwB,SAAS1I,OAAT,CAAkB,CACxC,GAAI,CAACoH,SAAS,CAACC,OAAf,CAAwB,SAExB,GAAIT,CAAAA,aAAa,CAAG5G,OAAO,CAAGA,OAAO,CAAC4G,aAAX,CAA2BL,oBAAtD,CAEA,GAAIK,aAAa,GAAKL,oBAAtB,CAA4C,CAC1C,GAAIC,CAAAA,CAAC,CAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAR,CACA,GAAI,CAACF,CAAC,CAACU,UAAF,CAAa,IAAb,CAAL,CACE,QAEH,CAED,QACD,CAnJS,CAuVVE,SAAS,CAAClE,UAAV,CAAuBA,UAvVb,CA+YVkE,SAAS,CAACrC,OAAV,CAAoBA,OA/YV,CA4bVqC,SAAS,CAACuB,WAAV,CAAwB/F,UA5bd,CA2fVwE,SAAS,CAACwB,sBAAV,CAAmCjC,qBA3fzB;AAAA,GA8fN7E,CAAAA,GAAG,CAAGhD,IAAI,CAACgD,GA9fL,CA+fN/C,GAAG,SA/fG,CAggBN4E,GAAG,CAAG7E,IAAI,CAAC6E,GAhgBL,CAigBNQ,IAAI,CAAGrF,IAAI,CAACqF,IAjgBN,CAgjB0B0E,iBAAA,CAAoBzB,SAhjB9C,CAsjBR0B,cAAA,CAAiB1B,SAEpB,CAxjBD,MCpBO,KAAM2B,CAAAA,kBAAN,QAAiCC,CAAAA,WAAY,gFAa3BC,KAAD,EAAW,MACzBC,CAAAA,KAAK,CAAGD,KAAK,CAACE,MAANF,CAAaC,MADI,CAEV,CAAjBA,GAAAA,KAAK,CAAC9H,MAAN8H,EAAyD,CAAC,CAApCA,GAAAA,KAAK,CAAC,CAAD,CAALA,CAASE,IAATF,CAAcG,OAAdH,CAAsB,OAAtBA,CAFK,QAGxBI,UAAU,qBAHc,MAMzBC,CAAAA,MAAM,CAAG,GAAIC,CAAAA,WACnBD,MAAM,CAACE,MAAPF,CAAiBG,WAAD,EAAiB,MACzB5C,CAAAA,KAAK,CAAG,GAAI6C,CAAAA,MAClB7C,KAAK,CAAC2C,MAAN3C,CAAe,IAAM,MACd8C,MAAM9C,OAAOU,KAAMqC,UAAD,EAAgB,MAChCC,QAAQD,WADf,GAEGE,MAAOC,KAAD,EAAW,MACbC,WAAWD,KAAK,CAACE,OAANF,EAAiB,uBAHnC,EADF,CAF+B,CAS/BlD,KAAK,CAACqD,GAANrD,CAAY4C,WAAW,CAACP,MAAZO,CAAmBjH,MATjC,CAP+B,CAkB/B8G,MAAM,CAACa,aAAPb,CAAqBL,KAAK,CAAC,CAAD,CAA1BK,CA/BgD,GAClDc,iBAAiB,EAAG,CAClBC,UAAU,CAAC,IAAM,MACVC,QAAU,KAAKC,aAAL,CAAmB,MAAnB,CADA,MAEVC,gBAAkB,KAAKD,aAAL,CAAmB,iCAAnB,CAFR,MAGVC,gBAAgBC,iBAAiB,SAAU,KAAKC,oBAH7C,CAAA,EAOZC,oBAAoB,EAAG,MAChBH,gBAAgBI,oBAAoB,SAAU,KAAKF,qBAwB1Df,KAAK,CAAC9C,KAAD,CAAmB,OAMfM,CAAAA,SAAS,CAAC5E,IAAV4E,CAAeN,KAAfM,CALS,CACdjF,QAAQ,CAAE,CADI,CAEd5C,KAAK,CAAE,GAFO,CAGdE,MAAM,CAAE,GAHM,CAKT2H,EAA+BI,IAA/BJ,CAAqC3E,MAAD,EAAY,MAC/CoH,CAAAA,UAAU,CAAGpD,QAAQ,CAACC,aAATD,CAAuB,QAAvBA,QACnBoD,CAAAA,UAAU,CAACtK,KAAXsK,CAAmB,IACnBA,UAAU,CAACpK,MAAXoK,CAAoB,IACpBA,UAAU,CAAC3C,UAAX2C,CAAsB,IAAtBA,EAA4B1C,SAA5B0C,CACI/C,KADJ+C,CAEIpH,MAAM,CAAC0C,OAAP1C,CAAe9C,CAFnBkK,CAEsBpH,MAAM,CAAC0C,OAAP1C,CAAe/C,CAFrCmK,CAEwCpH,MAAM,CAAC0C,OAAP1C,CAAelD,KAFvDsK,CAE8DpH,MAAM,CAAC0C,OAAP1C,CAAehD,MAF7EoK,CAGI,CAHJA,CAGO,CAHPA,CAGU,GAHVA,CAGe,GAHfA,EAKOA,UATF,CAAAzC,EAaT0C,OAAO,CAACgB,MAAD,CAAS,MACTL,gBAAgBM,UAAUC,OAAO,2CADxB,MAGRC,CAAAA,GAAG,CAAG,GAAIC,CAAAA,eAChBD,GAAG,CAACpE,IAAJoE,CAAS,MAATA,CAAiBE,MAAM,CAACC,QAAPD,CAAgBE,MAAjCJ,IAJc,CAKdA,GAAG,CAACK,gBAAJL,CAAqB,qBAArBA,CAA4CE,MAAM,CAACC,QAAnDH,CALc,CAOdA,GAAG,CAACxB,MAAJwB,CAAchC,IAAU,MAChBsC,CAAAA,QAAQ,CAAGC,8BAAAA,CAAWC,UAAXD,CAAsBE,IAAtBF,CAA2BG,WAA3BH,GAAyCI,WADpC,CAEhBC,QAAQ,CAAGL,8BAAAA,CAAWC,UAAXD,CAAsBE,IAAtBF,CAA2BG,WAA3BH,GAAyCM,eAAzCN,GAA2DI,WAFtD,IAIlBR,CAAAA,QAAQ,CAAGH,GAAG,CAACc,iBAAJd,CAAsB,qBAAtBA,OACTe,CAAAA,QAAQ,CAAGT,QAAQ,CAACU,IAATV,CAAcN,GAAG,CAACiB,QAAlBX,EAEZH,QAPiB,GAQpBA,QAAQ,CAAGD,MAAM,CAACC,QAAPD,CAAgBgB,IARP,EAWtBX,8BAAAA,CAAWC,UAAXD,CAAsBY,OAAtBZ,CAA8Ba,eAA9Bb,EAXsB,CAYtBA,8BAAAA,CAAWC,UAAXD,CAAsBc,KAAtBd,CAA4Be,GAA5Bf,CAAgC,GAAIK,CAAAA,QAAJ,CAAaT,QAAb,CAAhCI,CAAwDQ,QAAxDR,CAZsB,CAatBA,8BAAAA,CAAWgB,KAAXhB,CAAiBJ,QAAjBI,CAA2B,CAACiB,MAAM,CAAE,SAAT,CAA3BjB,CAbsB,CActBA,8BAAAA,CAAWkB,UAAXlB,EAdsB,CAgBL,GAAbP,CAAAA,GAAG,CAAC0B,MAhBc,EAiBpBnB,8BAAAA,CAAWC,UAAXD,CAAsBoB,OAAtBpB,EAjBJ,CAPc,CA4BdP,GAAG,CAAC4B,OAAJ5B,CAAehC,IAAU,CACvBuC,8BAAAA,CAAWC,UAAXD,CAAsBY,OAAtBZ,CAA8Ba,eAA9Bb,EADuB,MAElBsB,cAAc/B,UAAUC,OAAO,sCAFb,MAGlB1B,UAAU,gBAHjB,CA5Bc,CAkCdkC,8BAAAA,CAAWC,UAAXD,CAAsBY,OAAtBZ,CAA8BuB,yBAA9BvB,EAlCc,CAoCdV,MAAM,CAACkC,MAAPlC,CAAemC,IAAD,EAAU,MAChBC,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,CAAa,KAAK5C,OAAlB,EACjB2C,QAAQ,CAACE,MAATF,CAAgB,QAAhBA,CAA0BD,IAA1BC,CAAgC,YAAhCA,CAFsB,CAGtBjC,GAAG,CAACoC,IAAJpC,CAASiC,QAATjC,CAHF,CAAAH,EAOFb,UAAU,CAACC,OAAD,CAAUoD,OAAO,CAAC,GAAlB,CAAwB,MAC1BC,CAAAA,aAAa,CAAG,GAAIC,CAAAA,WAAJ,CAAgB,kBAAhB,CAAoC,QAC9C,CAACtD,OAAO,CAAEA,OAAV,CAAmBoD,OAAO,CAAEA,OAA5B,CAD8C,CAApC,EAGtBnC,MAAM,CAACsC,aAAPtC,CAAqBoC,aAArBpC,EApGgD,CCNpD,wBAGAA,MAAM,CAACuC,cAAPvC,CAAsBwC,MAAtBxC,CAA6B,wBAA7BA,CAAuDpC,kBAAvDoC"}