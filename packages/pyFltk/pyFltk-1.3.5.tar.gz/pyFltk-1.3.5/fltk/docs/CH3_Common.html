<HTML>
<BODY>

<H1 ALIGN="RIGHT"><A NAME="common">3 - Common Widgets and Attributes</A></H1>

<P>This chapter describes many of the widgets that are provided
with pyFLTK and covers how to query and set the standard
attributes.</P>

<H2>Buttons</H2>

<P>pyFLTK provides many types of buttons:</P>

<UL>

	<LI><A HREF="fltk.html#Fl_Button"><TT>Fl_Button</TT></A> - A
	standard push button.</LI>

	<LI><A HREF="fltk.html#Fl_Check_Button"><TT>Fl_Check_Button</TT></A> -
	A button with a check box.</LI>

	<LI><A HREF="fltk.html#Fl_Light_Button"><TT>Fl_Light_Button</TT></A> -
	A push button with a light.</LI>

	<LI><A HREF="fltk.html#Fl_Repeat_Button"><TT>Fl_Repeat_Button</TT></A> -
	A push button that repeats when held.</LI>

	<LI><A HREF="fltk.html#Fl_Return_Button"><TT>Fl_Return_Button</TT></A> -
	A push button that is activated by the <KBD>Enter</KBD> key.</LI>

	<LI><A HREF="fltk.html#Fl_Round_Button"><TT>Fl_Round_Button</TT></A> -
	A button with a radio circle.</LI>

</UL>

<P ALIGN="CENTER"><IMG SRC="buttons.jpg" ALT="pyFLTK Buttons"><BR>
Figure 3-1: pyFLTK Button Widgets</P>

The constructor for these buttons 
takes the bounding box of the button and optionally a label
string:</P>

<UL><PRE>
button = Fl_Button(x, y, width, height, &quot;label&quot;);
lbutton = Fl_Light_Button(x, y, width, height);
rbutton = Fl_Round_Button(x, y, width, height, &quot;label&quot;);
</PRE></UL>

<P>Each button has an associated
<A href="fltk.html#Fl_Button-type"><TT>type()</TT></A>
which allows it to behave as a push button, toggle button, or
radio button:</P>

<UL><PRE>
button.type(FL_NORMAL_BUTTON);
lbutton.type(FL_TOGGLE_BUTTON);
rbutton.type(FL_RADIO_BUTTON);
</PRE></UL>

<P>For toggle and radio buttons, the
<A href="fltk.html#Fl_Button-value"><TT>value()</TT></A>
method returns the current button state (0 = off,  1 = on). The
<A href="fltk.html#Fl_Button-set"><TT>set()</TT></A> and
<A href="fltk.html#Fl_Button-clear"><TT>clear()</TT></A>
methods can be used on toggle buttons to turn a toggle button
on or off, respectively. Radio buttons can be turned on with
the
<A href="fltk.html#Fl_Button-setonly"><TT>setonly()</TT></A>
method; this will also turn off other radio buttons in the same
group.</P>

<H2>Text</H2>

<P>pyFLTK provides several text widgets for displaying and receiving text:</P>

<UL>

	<LI><A HREF="fltk.html#Fl_Input"><TT>Fl_Input</TT></A> - A
	one-line text input field.</LI>

	<LI><A HREF="fltk.html#Fl_Output"><TT>Fl_Output</TT></A> - A
	one-line text output field.</LI>

	<LI><A HREF="fltk.html#Fl_Multiline_Input"><TT>Fl_Multiline_Input</TT></A>
	- A multi-line text input field. </LI>

	<LI><A HREF="fltk.html#Fl_Multiline_Output"><TT>Fl_Multiline_Output</TT></A>
	- A multi-line text output field.</LI>

	<LI><A HREF="fltk.html#Fl_Text_Display"><TT>Fl_Text_Display</TT></A>
	- A multi-line text display widget.</LI>

	<LI><A HREF="fltk.html#Fl_Text_Editor"><TT>Fl_Text_Editor</TT></A> -
	A multi-line text editing widget. </LI>

	<LI><A HREF="fltk.html#Fl_Help_View"><TT>Fl_Help_View</TT></A> - A
	HTML text display widget.</LI>

</UL>

<P>The <TT>Fl_Output</TT> and <TT>Fl_Multiline_Output</TT>
widgets allow the user to copy text from the output field but
not change it.</P>

<P>The <A href="fltk.html#Fl_Input-value"><TT>value()</TT></A>
method is used to get or set the string that is displayed:</P>

<UL><PRE>
input = Fl_Input(x, y, width, height, &quot;label&quot;);
input.value(&quot;Now is the time for all good men...&quot;);
</PRE></UL>

<P>The string is copied to the widget's own storage when you set
the <tt>value()</tt> of the widget.</P>

<P>The <TT>Fl_Text_Display</TT> and <TT>Fl_Text_Editor</TT>
widgets use an associated <TT>Fl_Text_Buffer</TT> class for the
value, instead of a simple string.</P>

<!-- NEED 4in -->

<H2>Valuators</H2>

<P>Unlike text widgets, valuators keep track of numbers instead of
strings. pyFLTK provides the following valuators:</P>

<UL>

	<LI><A HREF="fltk.html#Fl_Counter.html"><TT>Fl_Counter</TT></A> - A widget with arrow buttons that shows the
	current value. </LI>

	<LI><A HREF="fltk.html#Fl_Dial"><TT>Fl_Dial</TT></A> - A round knob. </LI>

	<LI><A HREF="fltk.html#Fl_Roller"><TT>Fl_Roller</TT></A> - An SGI-like dolly widget. </LI>

	<LI><A HREF="fltk.html#Fl_Scrollbar"><TT>Fl_Scrollbar</TT></A> - A standard scrollbar widget. </LI>

	<LI><A HREF="fltk.html#Fl_Slider"><TT>Fl_Slider</TT></A> - A scrollbar with a knob. </LI>

	<LI><A HREF="fltk.html#Fl_Value_Slider"><TT>Fl_Value_Slider</TT></A> - A slider that shows the current value. </LI>

</UL>

<P ALIGN="CENTER"><IMG SRC="valuators.jpg" ALT="FLTK Valuators"><BR>
<I>Figure 3-2: pyFLTK valuator widgets</I></P>

<P>The <A href="fltk.html#Fl_Valuator-value"><TT>value()</TT></A>
method gets and sets the current value of the widget. The
<A href="fltk.html#Fl_Valuator-minimum"><TT>minimum()</TT></A>
and <A href="fltk.html#Fl_Valuator-maximum"><TT>maximum()</TT></A>
methods set the range of values that are reported by the
widget.</P>

<!-- NEED 5in -->

<H2>Groups</H2>

<P>The <TT>Fl_Group</TT> widget class is used as a general
purpose &quot;container&quot; widget. Besides grouping radio
buttons, the groups are used to encapsulate windows, tabs, and
scrolled windows. The following group classes are available
with pyFLTK:</P>

<UL>

	<LI><A HREF="fltk.html#Fl_Double_Window"><TT>Fl_Double_Window</TT></A> - A double-buffered window on the screen. </LI>

	<LI><A HREF="fltk.html#Fl_Gl_Window"><TT>Fl_Gl_Window</TT></A> - An OpenGL window on the screen. </LI>

	<LI><A HREF="fltk.html#Fl_Group"><TT>Fl_Group</TT></A> - The base container class; can be used to group
	any widgets together. </LI>

	<LI><A HREF="fltk.html#Fl_Pack"><TT>Fl_Pack</TT></A> - A collection of widgets that are packed into the group area.</LI>

	<LI><A HREF="fltk.html#Fl_Scroll"><TT>Fl_Scroll</TT></A> - A scrolled window area. </LI>

	<LI><A HREF="fltk.html#Fl_Tabs"><TT>Fl_Tabs</TT></A> - Displays child widgets as tabs. </LI>

	<LI><A HREF="fltk.html#Fl_Tile"><TT>Fl_Tile</TT></A> - A tiled window area.</LI>

	<LI><A HREF="fltk.html#Fl_Window"><TT>Fl_Window</TT></A> - A window on the screen. </LI>

</UL>

<H2>Setting the Size and Position of Widgets</H2>

<P>The size and position of widgets is usually set when you
create them. You can access them with the <tt>x()</tt>,
<tt>y()</tt>, <tt>w()</tt>, and <tt>h()</tt> methods.</P>

<P>You can change the size and position by using the
<TT>position()</TT>, <TT> resize()</TT>, and <TT>size()</TT>
methods:</P>

<UL><PRE>
button.position(x, y);
group.resize(x, y, width, height);
window.size(width, height);
</PRE></UL>

<P>If you change a widget's size or position after it is
displayed you will have to call <tt>redraw()</tt> on the
widget's parent.</P>

<H2><A NAME="colors">Colors</A></H2>

<P>pyFLTK stores the colors of widgets as an 32-bit unsigned
number that is either an index into a color palette of 256
colors or a 24-bit RGB color. The color palette is <i>not</i>
the X or WIN32 colormap, but instead is an internal table with
fixed contents.</P>

<P>There are symbols for naming some of the more common colors:</P>

<UL>
	<LI><TT>FL_BLACK</TT></LI>

	<LI><TT>FL_RED</TT></LI>

	<LI><TT>FL_GREEN</TT></LI>

	<LI><TT>FL_YELLOW</TT></LI>

	<LI><TT>FL_BLUE</TT></LI>

	<LI><TT>FL_MAGENTA</TT></LI>

	<LI><TT>FL_CYAN</TT></LI>

	<LI><TT>FL_WHITE</TT></LI>
</UL>

<P>These symbols are the default colors for all FLTK widgets. They are
explained in more detail in the chapter 
<A HREF="fltk.html#enumerations">Enumerations</A></P>

<UL>
	<LI><TT>FL_FOREGROUND_COLOR</TT> </LI>

	<LI><TT>FL_BACKGROUND_COLOR</TT> </LI>

	<LI><TT>FL_INACTIVE_COLOR</TT> </LI>

	<LI><TT>FL_SELECTION_COLOR</TT> </LI>
</UL>

<P>RGB colors can be set using the <A HREF="fltk.html#-fl_rgb_color"><TT>fl_rgb_color()</TT></A>
function:</P>

<UL><PRE>
c = fl_rgb_color(85, 170, 255)
</PRE></UL>

<P>The widget color is set using the <TT>color()</TT> method:</P>

<UL><PRE>
button.color(FL_RED);
</PRE></UL>

<P>Similarly, the label color is set using the <TT>labelcolor()</TT>
method:</P>

<UL><PRE>
button.labelcolor(FL_WHITE);
</PRE></UL>

<H2><A NAME="boxtypes">Box Types</A></H2>

<P>The type <TT>Fl_Boxtype</TT> stored and returned in
<A href="fltk.html#Fl_Widget-box"><TT>Fl_Widget::box()</TT></A>
is an enumeration defined in <A href="fltk.html#enumerations"><TT>&lt;Enumerations.H&gt;</TT></A>.
Figure 3-3 shows the standard box types included with FLTK.</P>

<P ALIGN="CENTER"><IMG src="boxtype.jpg" ALT="pyFLTK Box Types"><BR>
<I>Figure 3-3: pyFLTK box types</I></P>

<P><TT>FL_NO_BOX</TT> means nothing is drawn at all, so whatever is
already on the screen remains. The <TT>FL_..._FRAME</TT> types only
draw their edges, leaving the interior unchanged. The blue color in
Figure 3-3 is the area that is not drawn by the frame types.</P>

<H2><A NAME="labels">Labels and Label Types</A></H2>

<P>The <TT>label()</TT>, <TT>align()</TT>, <TT>labelfont()</TT>,
<TT>labelsize()</TT>, <TT>labeltype()</TT>, <TT>image()</TT>, and
<TT>deimage()</TT> methods control the labeling of widgets.</P>

<H3>label()</H3>

<P>The <TT>label()</TT> method sets the string that is displayed
for the label. Symbols can be included with the label string by
escaping them using the "@" symbol - "@@" displays a single at
sign. Figure 3-4 shows the available symbols.</P>

<P ALIGN="CENTER"><A name="symbols"><IMG src="symbols.jpg" ALT="pyFLTK Symbols"><BR>
<I>Figure 3-4: pyFLTK label symbols</I></A></P>

<!-- NEED 2in -->

<P>The @ sign may also be followed by the following optional
&quot;formatting&quot; characters, in this order:</P>

<UL>

	<LI>'#' forces square scaling, rather than distortion to
	the widget's shape.</LI>

	<LI>+[1-9] or -[1-9] tweaks the scaling a little bigger
	or smaller.</LI>

	<LI>'$' flips the symbol horizontaly, '%' flips it verticaly.</LI>

	<LI>[0-9] - rotates by a multiple of 45 degrees. '5' and
	'6' do no rotation while the others point in the
	direction of that key on a numeric keypad. '0', followed by four
	more digits rotates the symbol by that amount in degrees.</LI>

</UL>

<P>Thus, to show a very large arrow pointing downward you would use the
label string "@+92->".

<H3>align()</H3>

<P>The <TT>align()</TT> method positions the label. The following
constants are defined and may be OR'd together as needed:</P>

<UL>

	<LI><TT>FL_ALIGN_CENTER</TT> - center the label in the widget.</LI>

	<LI><TT>FL_ALIGN_TOP</TT> - align the label at the top of the widget.</LI>

	<LI><TT>FL_ALIGN_BOTTOM</TT> - align the label at the bottom of the
	widget.</LI>

	<LI><TT>FL_ALIGN_LEFT</TT> - align the label to the left of the widget.</LI>

	<LI><TT>FL_ALIGN_RIGHT</TT> - align the label to the right of the
	widget.</LI>

	<LI><TT>FL_ALIGN_INSIDE</TT> - align the label inside the widget.</LI>

	<LI><TT>FL_ALIGN_CLIP</TT> - clip the label to the widget's bounding
	box.</LI>

	<LI><TT>FL_ALIGN_WRAP</TT> - wrap the label text as needed.</LI>

	<LI><TT>FL_TEXT_OVER_IMAGE</TT> - show the label text over the image.</LI>

	<LI><TT>FL_IMAGE_OVER_TEXT</TT> - show the label image over the text (default).</LI>

</UL>

<H3><A NAME="labeltypes">labeltype()</A></H3>

<P>The <TT>labeltype()</TT> method sets the type of the label.  The
following standard label types are included:</P>

<UL>

	<LI><TT>FL_NORMAL_LABEL</TT> - draws the text.</LI>

	<LI><TT>FL_NO_LABEL</TT> - does nothing.</LI>

	<LI><TT>FL_SHADOW_LABEL</TT> - draws a drop shadow under
	the text.</LI>

	<LI><TT>FL_ENGRAVED_LABEL</TT> - draws edges as though
	the text is engraved.</LI>

	<LI><TT>FL_EMBOSSED_LABEL</TT> - draws edges as thought
	the text is raised.</LI>

	<LI><TT>FL_ICON_LABEL</TT> - draws the icon associated
	with the text.</LI>

</UL>

<H3>image() and deimage()</H3>

<P>The <TT>image()</TT> and <TT>deimage()</TT> methods set an image that
will be displayed with the widget. The <TT>deimage()</TT> method sets the
image that is shown when the widget is inactive, while the <TT>image()</TT>
method sets the image that is shown when the widget is active.</P>

<P>To make an image you use a subclass of
<A HREF="fltk.html#Fl_Image"><TT>Fl_Image</TT></A>.</P>

<H2>Callbacks</H2>

<P>Callbacks are functions or class methods that are called when the value of a
widget changes. A callback function is sent a <TT>Fl_Widget</TT>
pointer of the widget that changed and a pointer to data that
you provide:</P>

<UL><PRE>
def xyz_callback(widget, data):
    ...
</PRE></UL>

<P>The <TT>callback()</TT> method sets the callback function for a
widget. You can optionally pass a pointer to some data needed for the
callback:</P>

<UL><PRE>
xyz_data = 15

button.callback(xyz_callback, xyz_data);
</PRE></UL>

<P>Normally callbacks are performed only when the value of the
widget  changes. You can change this using the
<A href="fltk.html#Fl_Widget-when"><TT>when()</TT></A>
method:</P>

<UL><PRE>
button.when(FL_WHEN_NEVER);
button.when(FL_WHEN_CHANGED);
button.when(FL_WHEN_RELEASE);
button.when(FL_WHEN_RELEASE_ALWAYS);
button.when(FL_WHEN_ENTER_KEY);
button.when(FL_WHEN_ENTER_KEY_ALWAYS);
button.when(FL_WHEN_CHANGED | FL_WHEN_NOT_CHANGED);
</PRE></UL>

<CENTER><TABLE WIDTH="80%" BORDER="1" CELLPADDING="5" CELLSPACING="0" BGCOLOR="#cccccc">
<TR>
	<TD><B>Note:</B>

	<P>You cannot delete a widget inside a callback, as the
	widget may still be accessed by FLTK after your callback
	is completed. Instead, use the <a
	href='fltk.html#Fl-delete_widget'><tt>Fl.delete_widget()</tt></a>
	method to mark your widget for deletion when it is safe
	to do so.</p>

</TR>
</TABLE></CENTER>

<H2>Shortcuts</H2>

<P>Shortcuts are key sequences that activate widgets such as
buttons or menu items. The <TT>shortcut()</TT> method sets the
shortcut for a widget:</P>

<UL><PRE>
button.shortcut(FL_Enter);
button.shortcut(FL_SHIFT + 'b');
button.shortcut(FL_CTRL + 'b');
button.shortcut(FL_ALT + 'b');
button.shortcut(FL_CTRL + FL_ALT + 'b');
button.shortcut(0); // no shortcut
</PRE></UL>

<P>The shortcut value is the key event value - the ASCII value
or one of the special keys like
<a href="fltk.html#enumerations"><TT>FL_Enter</TT></a> -
combined with any modifiers like <KBD>Shift</KBD>,
<KBD>Alt</KBD>, and <KBD>Control</KBD>.</P>

</BODY>
</HTML>
