

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>5.1.6. nvector.objects.FrameB &mdash; Nvector 0.7.6 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="5.1.7. nvector.objects.FrameE" href="nvector.objects.FrameE.html" />
    <link rel="prev" title="5.1.5. nvector.objects.ECEFvector" href="nvector.objects.ECEFvector.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Nvector
          

          
          </a>

          
            
            
              <div class="version">
                0.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro/index.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">2. Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../how-to/index.html">3. How-to guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/index.html">4. Topics guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">5. Reference nvector package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../nvector_summary.html">5.1. Object Oriented interface to Geodesic functions</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="nvector.objects.delta_E.html">5.1.1. nvector.objects.delta_E</a></li>
<li class="toctree-l3"><a class="reference internal" href="nvector.objects.delta_N.html">5.1.2. nvector.objects.delta_N</a></li>
<li class="toctree-l3"><a class="reference internal" href="nvector.objects.delta_L.html">5.1.3. nvector.objects.delta_L</a></li>
<li class="toctree-l3"><a class="reference internal" href="nvector.objects.diff_positions.html">5.1.4. nvector.objects.diff_positions</a></li>
<li class="toctree-l3"><a class="reference internal" href="nvector.objects.ECEFvector.html">5.1.5. nvector.objects.ECEFvector</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">5.1.6. nvector.objects.FrameB</a></li>
<li class="toctree-l3"><a class="reference internal" href="nvector.objects.FrameE.html">5.1.7. nvector.objects.FrameE</a></li>
<li class="toctree-l3"><a class="reference internal" href="nvector.objects.FrameN.html">5.1.8. nvector.objects.FrameN</a></li>
<li class="toctree-l3"><a class="reference internal" href="nvector.objects.FrameL.html">5.1.9. nvector.objects.FrameL</a></li>
<li class="toctree-l3"><a class="reference internal" href="nvector.objects.GeoPath.html">5.1.10. nvector.objects.GeoPath</a></li>
<li class="toctree-l3"><a class="reference internal" href="nvector.objects.GeoPoint.html">5.1.11. nvector.objects.GeoPoint</a></li>
<li class="toctree-l3"><a class="reference internal" href="nvector.objects.Nvector.html">5.1.12. nvector.objects.Nvector</a></li>
<li class="toctree-l3"><a class="reference internal" href="nvector.objects.Pvector.html">5.1.13. nvector.objects.Pvector</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../nvector_summary.html#geodesic-functions">5.2. Geodesic functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nvector_summary.html#rotation-matrices-and-angles">5.3. Rotation matrices and angles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nvector_summary.html#utility-functions">5.4. Utility functions</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../appendix/changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendix/authors.html">Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendix/license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendix/acknowledgement.html">Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendix/index.html">Indices and tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendix/zreferences.html">Bibliography</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Nvector</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html"><span class="section-number">5. </span>Reference nvector package</a> &raquo;</li>
        
          <li><a href="../nvector_summary.html"><span class="section-number">5.1. </span>Object Oriented interface to Geodesic functions</a> &raquo;</li>
        
      <li><span class="section-number">5.1.6. </span>nvector.objects.FrameB</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/reference/generated/nvector.objects.FrameB.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="nvector-objects-frameb">
<h1><span class="section-number">5.1.6. </span>nvector.objects.FrameB<a class="headerlink" href="#nvector-objects-frameb" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="nvector.objects.FrameB">
<em class="property">class </em><code class="sig-name descname">FrameB</code><span class="sig-paren">(</span><em class="sig-param">point</em>, <em class="sig-param">yaw=0</em>, <em class="sig-param">pitch=0</em>, <em class="sig-param">roll=0</em>, <em class="sig-param">degrees=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/nvector/objects.html#FrameB"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nvector.objects.FrameB" title="Permalink to this definition">¶</a></dt>
<dd><p>Body frame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>point: ECEFvector, GeoPoint or Nvector object</strong></dt><dd><p>position of the vehicle’s reference point which also coincides with
the origin of the frame B.</p>
</dd>
<dt><strong>yaw, pitch, roll: real scalars</strong></dt><dd><p>defining the orientation of frame B in [deg] or [rad].</p>
</dd>
<dt><strong>degrees</strong><span class="classifier">bool</span></dt><dd><p>if True yaw, pitch, roll are given in degrees otherwise in radians</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="nvector.objects.FrameE.html#nvector.objects.FrameE" title="nvector.objects.FrameE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FrameE</span></code></a>, <a class="reference internal" href="nvector.objects.FrameL.html#nvector.objects.FrameL" title="nvector.objects.FrameL"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FrameL</span></code></a>, <a class="reference internal" href="nvector.objects.FrameN.html#nvector.objects.FrameN" title="nvector.objects.FrameN"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FrameN</span></code></a></dt><dd></dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>The frame is fixed to the vehicle where the x-axis points forward, the
y-axis to the right (starboard) and the z-axis in the vehicle’s down
direction.</p>
<p class="rubric">Examples</p>
<p><strong>Example 2: “B and delta to C”</strong></p>
<img alt="https://raw.githubusercontent.com/pbrod/Nvector/master/docs/tutorials/images/ex2img.png" src="https://raw.githubusercontent.com/pbrod/Nvector/master/docs/tutorials/images/ex2img.png" />
<p>A radar or sonar attached to a vehicle B (Body coordinate frame) measures the
distance and direction to an object C. We assume that the distance and two
angles (typically bearing and elevation relative to B) are already combined to
the vector p_BC_B (i.e. the vector from B to C, decomposed in B). The position
of B is given as n_EB_E and z_EB, and the orientation (attitude) of B is given
as R_NB (this rotation matrix can be found from roll/pitch/yaw by using zyx2R).</p>
<p>Find the exact position of object C as n-vector and depth ( n_EC_E and z_EC ),
assuming Earth ellipsoid with semi-major axis a and flattening f. For WGS-72,
use a = 6 378 135 m and f = 1/298.26.</p>
<dl>
<dt>Solution:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">nvector</span> <span class="k">as</span> <span class="nn">nv</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wgs72</span> <span class="o">=</span> <span class="n">nv</span><span class="o">.</span><span class="n">FrameE</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;WGS72&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wgs72</span> <span class="o">=</span> <span class="n">nv</span><span class="o">.</span><span class="n">FrameE</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">6378135</span><span class="p">,</span> <span class="n">f</span><span class="o">=</span><span class="mf">1.0</span><span class="o">/</span><span class="mf">298.26</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Step 1: Position and orientation of B is given 400m above E:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n_EB_E</span> <span class="o">=</span> <span class="n">wgs72</span><span class="o">.</span><span class="n">Nvector</span><span class="p">(</span><span class="n">nv</span><span class="o">.</span><span class="n">unit</span><span class="p">([[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">]]),</span> <span class="n">z</span><span class="o">=-</span><span class="mi">400</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">frame_B</span> <span class="o">=</span> <span class="n">nv</span><span class="o">.</span><span class="n">FrameB</span><span class="p">(</span><span class="n">n_EB_E</span><span class="p">,</span> <span class="n">yaw</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pitch</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">roll</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">degrees</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Step 2: Delta BC decomposed in B</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p_BC_B</span> <span class="o">=</span> <span class="n">frame_B</span><span class="o">.</span><span class="n">Pvector</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">3000</span><span class="p">,</span> <span class="mi">2000</span><span class="p">,</span> <span class="mi">100</span><span class="p">]</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
</pre></div>
</div>
</dd>
<dt>Step 3: Decompose delta BC in E</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p_BC_E</span> <span class="o">=</span> <span class="n">p_BC_B</span><span class="o">.</span><span class="n">to_ecef_vector</span><span class="p">()</span>
</pre></div>
</div>
</dd>
<dt>Step 4: Find point C by adding delta BC to EB</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p_EB_E</span> <span class="o">=</span> <span class="n">n_EB_E</span><span class="o">.</span><span class="n">to_ecef_vector</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p_EC_E</span> <span class="o">=</span> <span class="n">p_EB_E</span> <span class="o">+</span> <span class="n">p_BC_E</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pointC</span> <span class="o">=</span> <span class="n">p_EC_E</span><span class="o">.</span><span class="n">to_geo_point</span><span class="p">()</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="n">pointC</span><span class="o">.</span><span class="n">latlon_deg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Ex2: PosC: lat, lon = </span><span class="si">{:4.2f}</span><span class="s1">, </span><span class="si">{:4.2f}</span><span class="s1"> deg,  height = </span><span class="si">{:4.2f}</span><span class="s1"> m&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">msg</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">,</span> <span class="o">-</span><span class="n">z</span><span class="p">)</span>
<span class="go">&#39;Ex2: PosC: lat, lon = 53.33, 63.47 deg,  height = 406.01 m&#39;</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="method">
<dt id="nvector.objects.FrameB.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">point</em>, <em class="sig-param">yaw=0</em>, <em class="sig-param">pitch=0</em>, <em class="sig-param">roll=0</em>, <em class="sig-param">degrees=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/nvector/objects.html#FrameB.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nvector.objects.FrameB.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">Pvector</span></code>(self, pvector)</p></td>
<td><p>Returns Pvector relative to the local frame.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#nvector.objects.FrameB.__init__" title="nvector.objects.FrameB.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>(self, point[, yaw, pitch, roll, …])</p></td>
<td><p>Initialize self.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">R_EN</span></code></p></td>
<td><p>Rotation matrix to go between E and B frame</p></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="nvector.objects.FrameE.html" class="btn btn-neutral float-right" title="5.1.7. nvector.objects.FrameE" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="nvector.objects.ECEFvector.html" class="btn btn-neutral float-left" title="5.1.5. nvector.objects.ECEFvector" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015-2020, Norwegian Defence Research Establishment (FFI)

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>