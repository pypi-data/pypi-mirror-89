(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["itemdetails"],{"32a2":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",[e("InfoHeader",{attrs:{itemDetails:t.itemDetails}}),e("v-tabs",{attrs:{dark:"","show-arrows":"",grow:"","hide-slider":"","background-color":"rgba(0,0,0,.45)"},model:{value:t.activeTab,callback:function(a){t.activeTab=a},expression:"activeTab"}},[t._l(t.tabs,(function(a){return e("v-tab",{key:a.label},[t._v(" "+t._s(t.$t(a.label)))])})),t._l(t.tabs,(function(t){return e("v-tab-item",{key:t.label},[e("ItemsListing",{attrs:{items:t.items,media_type:t.media_type}})],1)}))],2)],1)},s=[],r=(e("99af"),e("5530")),n=e("b85c"),l=e("0dac"),o=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-flex",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}]},[i("v-card",{staticClass:"white--text",staticStyle:{"margin-top":"-60px"},attrs:{tile:"",color:"black",img:e("abd2"),height:"290"}},[i("v-img",{staticClass:"white--text",attrs:{width:"100%",height:"360",position:"center top",src:t.getFanart(t.itemDetails),gradient:"to bottom, rgba(0,0,0,.90), rgba(0,0,0,.75)"}},[i("div",{staticClass:"text-xs-center",staticStyle:{height:"40px"},attrs:{id:"whitespace_top"}}),t.itemDetails?i("v-layout",{staticStyle:{"margin-left":"5pxmargin-right:5px"}},[t.$store.state.isMobile?t._e():i("v-flex",{attrs:{xs5:"","pa-5":""}},[i("v-img",{staticStyle:{border:"4px solid rgba(0,0,0,.33)","border-radius":"6px"},attrs:{src:t.getImage(t.itemDetails),"lazy-src":e("4bfb"),width:"220px",height:"220px"}})],1),i("v-flex",[i("v-card-title",{staticStyle:{"text-shadow":"1px 1px #000000"}},[t._v(" "+t._s(t.itemDetails.name)+" ")]),i("v-card-subtitle",[t.itemDetails.version?i("div",{staticClass:"caption",staticStyle:{color:"white"}},[t._v(" "+t._s(t.itemDetails.version)+" ")]):t._e(),t.itemDetails.artists?i("div",{staticClass:"title",staticStyle:{"text-shadow":"1px 1px #000000"}},[i("v-icon",{staticStyle:{"margin-left":"-3px","margin-right":"3px"},attrs:{color:"#cccccc",small:""}},[t._v("person")]),t._l(t.itemDetails.artists,(function(a,e){return i("span",{key:a.db_id},[i("a",{staticStyle:{color:"primary"},on:{click:function(e){return t.artistClick(a)}}},[t._v(t._s(a.name))]),e+1<t.itemDetails.artists.length?i("span",{key:e,staticStyle:{color:"#cccccc"}},[t._v(t._s(" / "))]):t._e()])}))],2):t._e(),t.itemDetails.artist?i("div",{staticClass:"title"},[i("v-icon",{staticStyle:{"margin-left":"-3px","margin-right":"3px"},attrs:{color:"#cccccc",small:""}},[t._v("person")]),i("a",{staticStyle:{color:"primary"},on:{click:function(a){return t.artistClick(t.itemDetails.artist)}}},[t._v(t._s(t.itemDetails.artist.name))])],1):t._e(),t.itemDetails.owner?i("div",{staticClass:"title",staticStyle:{"text-shadow":"1px 1px #000000"}},[i("v-icon",{staticStyle:{"margin-left":"-3px","margin-right":"3px"},attrs:{color:"#cccccc",small:""}},[t._v("person")]),i("a",{staticStyle:{color:"primary"}},[t._v(t._s(t.itemDetails.owner))])],1):t._e(),t.itemDetails.album?i("div",{staticStyle:{color:"#ffffff","text-shadow":"1px 1px #000000"}},[i("v-icon",{staticStyle:{"margin-left":"-3px","margin-right":"3px"},attrs:{color:"#cccccc",small:""}},[t._v("album")]),i("a",{staticStyle:{color:"#ffffff"},on:{click:function(a){return t.albumClick(t.itemDetails.album)}}},[t._v(t._s(t.itemDetails.album.name))])],1):t._e()]),i("div",{staticStyle:{"margin-left":"14px"}},[i("v-btn",{attrs:{color:"primary",tile:""},on:{click:function(a){return t.$server.$emit("showPlayMenu",t.itemDetails)}}},[i("v-icon",{attrs:{left:"",dark:""}},[t._v("play_circle_filled")]),t._v(" "+t._s(t.$t("play"))+" ")],1),t.$store.state.isMobile||t.itemDetails.in_library?t._e():i("v-btn",{staticStyle:{"margin-left":"10px"},attrs:{color:"primary",tile:""},on:{click:function(a){return t.toggleLibrary(t.itemDetails)}}},[i("v-icon",{attrs:{left:"",dark:""}},[t._v("favorite_border")]),t._v(" "+t._s(t.$t("add_library"))+" ")],1),!t.$store.state.isMobile&&t.itemDetails.in_library?i("v-btn",{staticStyle:{"margin-left":"10px"},attrs:{color:"primary",tile:""},on:{click:function(a){return t.toggleLibrary(t.itemDetails)}}},[i("v-icon",{attrs:{left:"",dark:""}},[t._v("favorite")]),t._v(" "+t._s(t.$t("remove_library"))+" ")],1):t._e()],1),i("v-card-subtitle",{staticClass:"body-2"},[i("div",{staticClass:"justify-left",staticStyle:{"text-shadow":"1px 1px #000000"}},[i("ReadMore",{attrs:{text:t.getDescription(),"max-chars":t.$store.state.isMobile?140:260}})],1)])],1),i("div",{staticStyle:{"margin-top":"15px"}},[i("ProviderIcons",{attrs:{providerIds:t.itemDetails.provider_ids,height:25}})],1)],1):t._e()],1)],1)],1)},c=[],m=(e("a4d3"),e("e01a"),e("4160"),e("caad"),e("fb6a"),e("b0c0"),e("159b"),e("2b0e")),d=e("e00a"),p=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("a",{staticStyle:{color:"white"},domProps:{innerHTML:t._s(t.formattedString)},on:{click:function(a){return t.triggerReadMore(a,!0)}}}),e("v-dialog",{attrs:{width:"80%"},model:{value:t.isReadMore,callback:function(a){t.isReadMore=a},expression:"isReadMore"}},[e("v-card",[e("v-card-text",{staticClass:"subheading",domProps:{innerHTML:t._s("<br>"+t.text)}})],1)],1)],1)},u=[],h=(e("a9e3"),e("9911"),m["a"].extend({props:{lessStr:{type:String,default:""},text:{type:String,required:!0},link:{type:String,default:"#"},maxChars:{type:Number,default:100}},data:function(){return{isReadMore:!1}},computed:{formattedString:function(){var t=this.text;return this.text.length>this.maxChars&&(t=t.substring(0,this.maxChars)+"..."),t}},mounted:function(){},methods:{triggerReadMore:function(t,a){"#"===this.link&&t.preventDefault(),null===this.lessStr&&""===this.lessStr||(this.isReadMore=a)}}})),v=h,b=e("2877"),f=e("6544"),y=e.n(f),g=e("b0af"),_=e("99d9"),x=e("169a"),D=Object(b["a"])(v,p,u,!1,null,null,null),k=D.exports;y()(D,{VCard:g["a"],VCardText:_["c"],VDialog:x["a"]});var S=e("85fe");m["a"].use(S["b"]);var C=m["a"].extend({components:{ProviderIcons:d["a"],ReadMore:k},props:["itemDetails"],data:function(){return{}},mounted:function(){},created:function(){this.$store.state.topBarTransparent=!0},beforeDestroy:function(){this.$store.state.topBarTransparent=!1,this.$store.state.topBarContextItem=null},watch:{itemDetails:function(t){t&&(this.$store.state.topBarContextItem=t,this.$store.state.windowTitle=t.name)}},methods:{visibilityChanged:function(t,a){this.$store.state.topBarTransparent=!!t},artistClick:function(t){var a="/artists/"+t.item_id;this.$router.push({path:a,query:{provider:t.provider}})},albumClick:function(t){var a="/albums/"+t.item_id;this.$router.push({path:a,query:{provider:t.provider}})},toggleLibrary:function(t){this.$server.toggleLibrary(t)},getDescription:function(){var t="";return this.itemDetails?this.itemDetails.metadata&&this.itemDetails.metadata.description?this.itemDetails.metadata.description:this.itemDetails.metadata&&this.itemDetails.metadata.biography?this.itemDetails.metadata.biography:this.itemDetails.metadata&&this.itemDetails.metadata.copyright?this.itemDetails.metadata.copyright:(this.itemDetails.artists&&this.itemDetails.artists.forEach((function(a){a.metadata&&a.metadata.biography&&(t=a.metadata.biography)})),t):""},getQualityInfo:function(){},getUniqueProviders:function(){var t=[],a=[];if(!this.providerIds)return[];var e=this.providerIds.slice();e.sort((function(t,a){return t.quality<a.quality?1:a.quality<t.quality?-1:0}));var i,s=Object(n["a"])(e);try{for(s.s();!(i=s.n()).done;){var r=i.value;t.includes(r.provider)||(a.push(r),t.push(r.provider))}}catch(l){s.e(l)}finally{s.f()}return a},getImage:function(t){return t&&t.media_type?t.metadata&&t.metadata.image?t.metadata.image:t.album&&t.album.metadata&&t.album.metadata.image?t.album.metadata.image:t.artist&&t.artist.metadata&&t.artist.metadata.image?t.artist.metadata.image:void 0:""},getFanart:function(t){return t&&t.media_type?t.metadata&&t.metadata.fanart?t.metadata.fanart:t.album&&t.album.metadata&&t.album.metadata.fanart?t.album.metadata.fanart:t.artist&&t.artist.metadata&&t.artist.metadata.fanart?t.artist.metadata.fanart:this.getImage(t):""}}}),w=C,$=e("8336"),I=e("0e8f"),T=e("132d"),M=e("adda"),V=e("a722"),R=Object(b["a"])(w,o,c,!1,null,null,null),j=R.exports;y()(R,{VBtn:$["a"],VCard:g["a"],VCardSubtitle:_["b"],VCardTitle:_["d"],VFlex:I["a"],VIcon:T["a"],VImg:M["a"],VLayout:V["a"]});var L=e("2f62"),q={components:{ItemsListing:l["a"],InfoHeader:j},props:{item_id:String,provider:String,media_type:String},data:function(){return{activeTab:0,tabs:[]}},created:function(){var t=this;this.$server.sendWsCommand("".concat(this.media_type,"/").concat(this.provider,"/").concat(this.item_id),{refresh:!0}),"artists"===this.media_type?this.tabs=[{label:"artist_toptracks",endpoint:"artists/".concat(this.provider,"/").concat(this.item_id,"/tracks"),media_type:"tracks",items:[]},{label:"artist_albums",endpoint:"artists/".concat(this.provider,"/").concat(this.item_id,"/albums"),media_type:"albums",items:[]}]:"albums"===this.media_type?this.tabs=[{label:"album_tracks",endpoint:"albums/".concat(this.provider,"/").concat(this.item_id,"/tracks"),media_type:"albumtracks",items:[]},{label:"album_versions",endpoint:"albums/".concat(this.provider,"/").concat(this.item_id,"/versions"),media_type:"albums",items:[]}]:"tracks"===this.media_type?this.tabs=[{label:"track_versions",endpoint:"tracks/".concat(this.provider,"/").concat(this.item_id,"/versions"),media_type:"tracks",items:[]}]:"playlists"===this.media_type&&(this.tabs=[{label:"playlist_tracks",endpoint:"playlists/".concat(this.provider,"/").concat(this.item_id,"/tracks"),media_type:"playlisttracks",items:[]}]);var a,e=Object(n["a"])(this.tabs);try{var i=function(){var e=a.value;t.$server.sendWsCommand(e.endpoint,null,(function(t){e.items=t}))};for(e.s();!(a=e.n()).done;)i()}catch(s){e.e(s)}finally{e.f()}},computed:Object(r["a"])(Object(r["a"])({},Object(L["c"])(["getArtist","getAlbum","getTrack","getPlaylist","getRadio"])),{},{itemDetails:function(){return"artists"===this.media_type?this.getArtist(this.item_id,this.provider):"albums"===this.media_type?this.getAlbum(this.item_id,this.provider):"tracks"===this.media_type?this.getTrack(this.item_id,this.provider):"playlists"===this.media_type?this.getPlaylist(this.item_id,this.provider):"radios"===this.media_type?this.getRadio(this.item_id,this.provider):null}}),methods:{}},O=q,P=(e("60fd"),e("71a3")),B=e("c671"),A=e("fe57"),E=Object(b["a"])(O,i,s,!1,null,"102468b7",null);a["default"]=E.exports;y()(E,{VTab:P["a"],VTabItem:B["a"],VTabs:A["a"]})},"60fd":function(t,a,e){"use strict";e("ce57")},abd2:function(t,a,e){t.exports=e.p+"img/info_gradient.4db55f47.jpg"},ce57:function(t,a,e){}}]);
//# sourceMappingURL=itemdetails.af98dca8.js.map