function u(){return u=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},u.apply(this,arguments)}function E(e,n){if(e==null)return{};var r=R(e,n),t,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++){if(t=s[a],n.indexOf(t)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,t))continue;r[t]=e[t]}}return r}function R(e,n){if(e==null)return{};var r={},t=Object.keys(e),a,s;for(s=0;s<t.length;s++){if(a=t[s],n.indexOf(a)>=0)continue;r[a]=e[a]}return r}import C from"../components/ChartPage.js";import{Modes as O,modes as v}from"../resource/histogram/index.js";import o,{useCallback as y,useMemo as P,useState as g}from"../../web_modules/react.js";import{AsideSection as w}from"../components/Aside.js";import T from"../components/Content.js";import x from"../components/Error.js";import F from"../components/Field.js";import k from"../components/HistogramPage/HistogramChart.js";import A from"../components/RadioButton.js";import H from"../components/RadioGroup.js";import S from"../components/RunAside.js";import _ from"../components/Title.js";import M from"../hooks/useTagFilter.js";import{useTranslation as W}from"../../web_modules/react-i18next.js";const B=()=>{const{t:e}=W(["histogram","common"]),[n,r]=g(!0),{runs:t,tagsWithSingleRun:a,selectedRuns:s,onChangeRuns:c,loading:l}=M("histogram",n),[m,p]=g(O.Offset),f=P(()=>t.length?o.createElement(S,{runs:t,selectedRuns:s,onChangeRuns:c,running:n,onToggleRunning:r},o.createElement(w,null,o.createElement(F,{label:e("histogram:mode")},o.createElement(H,{value:m,onChange:p},v.map(i=>o.createElement(A,{key:i,value:i},e(`histogram:mode-value.${i}`))))))):null,[e,m,c,n,t,s]),d=y(i=>{let{label:h,run:j}=i,b=E(i,["label","run"]);return o.createElement(k,u({run:j,tag:h},b,{mode:m,running:n}))},[n,m]);return o.createElement(o.Fragment,null,o.createElement(_,null,e("common:histogram")),o.createElement(T,{aside:f,loading:l},!l&&!t.length?o.createElement(x,null):o.createElement(C,{items:a,withChart:d,loading:l})))};export default B;
