(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d216d56"],{c3c3:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"justify-center":""}},[t.loading?a("v-layout",{staticClass:"pt-4",staticStyle:{height:"200px"},attrs:{"align-center":"",column:""}},[a("v-progress-circular",{attrs:{color:"accent",value:100,size:"50",indeterminate:""}})],1):a("v-layout",{attrs:{"justify-center":"",column:""}},[a("v-card",{staticClass:"pa-2"},[t.showqrcode?a("v-layout",{attrs:{"justify-center":"",column:""}},[a("div",{staticStyle:{"text-align":"center"}},[a("h2",[t._v("行人二维码")])]),a("div",{staticClass:"mt-2",staticStyle:{"text-align":"center"}},[a("img",{staticStyle:{width:"200px",height:"200px"},attrs:{src:t.signUrl}})]),a("div",{staticStyle:{"text-align":"center"}},[t._v("二维码剩余有效时间"+t._s(t.qrcodeEt)+"秒")])]):a("v-layout",{attrs:{"justify-center":"",column:""}},[a("div",{staticStyle:{"text-align":"center"}},[t._v("行人二维码")]),a("div",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.lastRes))]),t._l(t.ledPlus,function(e){return a("flex",{staticClass:"mb-1",staticStyle:{"text-align":"center"},attrs:{xs12:""}},[t._v("\n            "+t._s(e)+"\n          ")])}),a("div",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.qrcodeNextTime)+"秒后可再次生成二维码")])],2),a("v-layout",{attrs:{"justify-center":""}},[a("v-btn",{staticClass:"primary",on:{click:t.getPassRule}},[t._v("查看通行规则")])],1)],1)],1)],1)},r=[],n=a("a34a"),i=a.n(n);a("7530");function c(t,e,a,s,r,n,i){try{var c=t[n](i),l=c.value}catch(o){return void a(o)}c.done?e(l):Promise.resolve(l).then(s,r)}function l(t){return function(){var e=this,a=arguments;return new Promise(function(s,r){var n=t.apply(e,a);function i(t){c(n,s,r,i,l,"next",t)}function l(t){c(n,s,r,i,l,"throw",t)}i(void 0)})}}var o={data:function(){return{loading:!1,signUrl:"",showqrcode:!1,jsCode:"",getStatus:!1,disabledFlag:!1,qrcodeSt:"",qrcodeEt:"",qrcodeNextTime:"",lastRes:"",ledPlus:[],flag:!1}},created:function(){var t=this;t.getQrcode(),setInterval(function(){t.getQrcode()},3e3)},methods:{reGet:function(){this.getQrcode()},getPassRule:function(){this.$router.push({name:"personPassRule_wx"})},getQrcode:function(){var t=l(i.a.mark(function t(){var e,a;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.flag||(this.loading=!0),t.next=4,this.$store.dispatch("wx/getQrcode");case 4:e=t.sent,this.loading=!1,this.flag=!0,1===e.data.status?1===e.data.data.type?(this.signUrl="/qrcode"+e.data.data.picPath,this.showqrcode=!0,this.qrcodeEt=e.data.data.ttl):(this.showqrcode=!1,this.qrcodeNextTime=e.data.data.nextPicTime,a=JSON.parse(e.data.data.lastRes),a.status+""==="1"?(this.lastRes="扫码成功",this.ledPlus=a.data.ledPlus.split("|")):(this.lastRes="扫码失败，"+a.msg,this.ledPlus=[])):(this.$L.alert("error",{message:"获取二维码失败,"+e.data.msg}),this.getStatus=!0),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),this.loading=!1;case 13:return t.prev=13,this.loading=!1,t.finish(13);case 16:case"end":return t.stop()}},t,this,[[0,10,13,16]])}));return function(){return t.apply(this,arguments)}}()}},u=o,d=a("2877"),h=a("6544"),v=a.n(h),g=a("8336"),f=a("b0af"),p=a("a523"),y=a("a722"),x=a("490a"),m=Object(d["a"])(u,s,r,!1,null,null,null);e["default"]=m.exports;v()(m,{VBtn:g["a"],VCard:f["a"],VContainer:p["a"],VLayout:y["a"],VProgressCircular:x["a"]})}}]);
//# sourceMappingURL=chunk-2d216d56.3e60dc28.js.map