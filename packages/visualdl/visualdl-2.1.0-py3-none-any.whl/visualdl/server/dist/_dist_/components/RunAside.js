import S,{AsideSection as u}from"./Aside.js";import t,{useCallback as b,useMemo as s,useState as _}from"../../web_modules/react.js";import{ellipsis as k,em as n,rem as f,size as N}from"../utils/style.js";import g from"./Checkbox.js";import q from"./Field.js";import I from"./RunningToggle.js";import T from"./SearchInput.js";import B from"../../web_modules/styled-components.js";import F from"../../web_modules/lodash/uniqBy.js";import{useTranslation as z}from"../../web_modules/react-i18next.js";const C=B(S).withConfig({displayName:"RunAside__StyledAside",componentId:"sc-1k1mq1t-0"})(["",".run-section{flex:auto;overflow-x:hidden;overflow-y:auto;display:flex;flex-direction:column;margin-bottom:0;.run-select{flex:auto;overflow-x:hidden;overflow-y:auto;display:flex;flex-direction:column;> *{flex:none;}.search-input{margin-bottom:",";}.run-list{flex:auto;overflow-x:hidden;overflow-y:auto;margin-top:",";> div{margin-top:",";> *{width:100%;}.run-item{display:flex;align-items:center;"," > i{display:inline-block;",";border-radius:",";margin-right:",";}}}}}}"],u,f(15),f(5),f(11),k(),N(n(12),n(12)),n(6),n(8)),M=({runs:l,selectedRuns:o,onChangeRuns:a,running:v,onToggleRunning:p,children:x})=>{const{t:d}=z("common"),[c,y]=_(""),h=s(()=>(l==null?void 0:l.length)===(o==null?void 0:o.length),[l,o]),w=b(e=>{a==null||a(e?l!=null?l:[]:[])},[a,l]),E=s(()=>{var e;return(e=c?l==null?void 0:l.filter(r=>r.label.indexOf(c)>=0):l)!==null&&e!==void 0?e:[]},[l,c]),j=b((e,r)=>{let i=o!=null?o:[];r?i=F([...i,e],m=>m.label):i=i.filter(m=>m.label!==e.label),a==null||a(i)},[a,o]),A=s(()=>t.createElement(I,{className:"running-toggle",running:v,onToggle:p}),[v,p]);return t.createElement(C,{bottom:A},x,t.createElement(u,{className:"run-section"},t.createElement(q,{className:"run-select",label:d("common:select-runs")},t.createElement(T,{className:"search-input",value:c,onChange:y,placeholder:d("common:search-runs"),rounded:!0}),t.createElement(g,{value:h,onChange:w},d("common:select-all")),t.createElement("div",{className:"run-list"},E.map((e,r)=>{var i;return t.createElement("div",{key:r},t.createElement(g,{value:o==null||((i=o.map(m=>m.label))===null||i===void 0)?void 0:i.includes(e.label),title:e.label,onChange:m=>j(e,m)},t.createElement("span",{className:"run-item"},t.createElement("i",{style:{backgroundColor:e.colors[0]}}),e.label)))})))))};export default M;
