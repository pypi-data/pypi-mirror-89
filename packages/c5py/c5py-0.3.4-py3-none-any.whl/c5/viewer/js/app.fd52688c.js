(function(t){function e(e){for(var a,o,s=e[0],l=e[1],c=e[2],u=0,h=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(h.length)h.shift()();return n.push.apply(n,c||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],a=!0,s=1;s<i.length;s++){var l=i[s];0!==r[l]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=i[0]))}return t}var a={},r={app:0},n=[];function o(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=a,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(i,a,function(e){return t[e]}.bind(null,a));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var d=l;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"02ce":function(t,e,i){},"034f":function(t,e,i){"use strict";i("85ec")},1:function(t,e){},"2fe3":function(t,e,i){"use strict";i("02ce")},"56d7":function(t,e,i){"use strict";i.r(e);var a=i("a026"),r=i("28dd"),n=i("4a7a"),o=i.n(n),s=i("8203"),l=i.n(s),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},d=[],u={name:"App"},h=u,f=(i("034f"),i("2877")),p=Object(f["a"])(h,c,d,!1,null,null,null),g=p.exports,m=i("8c4f"),v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{attrs:{id:"arbc-header"}},[i("div",{attrs:{id:"arbc-title"}},[t._v(" "+t._s(t.title)+" ")]),i("div",{attrs:{id:"arbc-control"}},[i("save",{attrs:{views:t.views,layout:t.layout,reset:t.resetLayout},on:{createView:t.createNewView}}),i("add",{on:{createView:t.createNewView}})],1)]),i("grid",{attrs:{views:t.views,layout:t.layout},on:{closeView:t.removeView}})],1)},w=[],y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("grid-layout",{attrs:{layout:t.layout,"col-num":4,"row-height":200,"is-draggable":!0,"is-resizable":!0,"is-mirrored":!1,"vertical-compact":!0,margin:[10,20],"use-css-transforms":!0}},t._l(t.views,(function(e,a){return i("grid-item",{key:e.name,attrs:{x:t.layout[a].x,y:t.layout[a].y,w:t.layout[a].w,h:t.layout[a].h,i:t.layout[a].i,"drag-allow-from":".vue-draggable-handle","drag-ignore-from":".no-drag"}},[i("div",{attrs:{width:"100%"}},[i("span",{staticClass:"vue-draggable-handle",attrs:{width:"100%"}},[t._v(t._s(e.name))]),i("button",{staticStyle:{position:"absolute",top:"0",right:"0",background:"none",border:"none",cursor:"pointer"},on:{click:function(e){return t.closeItem(a,e)}}},[t._v(" ✕ ")])]),i(e.component.is,t._b({tag:"component",staticClass:"no-drag"},"component",e.component.props,!1))],1)})),1)},b=[],x=i("7be8"),C=i.n(x),k=C.a.GridLayout,_=C.a.GridItem,P={name:"Grid",components:{GridLayout:k,GridItem:_},props:{views:{type:Array,required:!0},layout:{type:Array,required:!0}},methods:{closeItem:function(t,e){var i=this;e.target.parentElement.parentElement.classList.add("vue-grid-item-hide"),setTimeout((function(){i.$emit("closeView",t)}),1e3)}}},$=P,S=(i("9f4b"),Object(f["a"])($,y,b,!1,null,null,null)),T=S.exports,A=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("video",t._g({staticStyle:{"max-width":"100%","max-height":"90%"},attrs:{controls:""},domProps:{muted:t.slaveMode}},t.slaveMode?{pause:t.emitVideoPaused}:{pause:t.emitVideoPaused,play:t.emitVideoPlayed,timeupdate:t.updateTime}),[i("source",{attrs:{src:t.src+t.args,type:"video/mp4"}})])},z=[],O=new a["default"];window.bus=O;class V{static getCSV(t){var e=t.split("\n"),i=[];for(let a=0;a<e.length;a++){let t=e[a];if(0===t.length)continue;let r=t.split(",");if(a>0)for(let e=1;e<r.length;e++)r[e]=parseFloat(r[e]);i.push(r)}return i}static parseBrix(t,e){var i=[],a=[],r=[],n=[],o=[],s=[],l=[];return t.shift(),t.forEach((function(t){i.push(t[0]-e),a.push(t[1]),r.push(t[2]),n.push(t[3]),o.push(t[4]),s.push(t[5]),l.push(t[6])})),{timestamp:i,gyrox:a,gyroy:r,gyroz:n,accx:o,accy:s,accz:l}}static parseSpeechData(t,e){t.shift();var i=[],a=[],r=[];return t.forEach((function(t){i.push(t[3]-e),a.push(t[1]+1.5),r.push(t[2])})),{timestamp:i,speech1:a,speech2:r}}static parseMarkerVisibility(t,e){return t.shift(),t=t.map((function(t){return t[1]=t[1]-e,t})),t}static mergeColumns(t){var e=[];for(let i=0;i<t[0].length;i++){let a=[];for(let e=0;e<t.length;e++)a.push(t[e][i]);e.push(a)}return e}static bindMessageBus(t,e,i){O.$on(t+"Changed",(function(a){a.uid!==e._uid&&i(a[t])})),e.$watch(t,(function(i){var a={uid:e._uid};a[t]=i,O.$emit(t+"Changed",a)}))}static releaseBus(t,e){O.$off(t+"Changed",e)}}var j={name:"VideoPlayer",components:{},props:{src:{type:String,required:!0},offset:{type:Number,default:0}},data:function(){return{currentTime:0,slaveMode:!1,watcher:void 0,args:location.search}},created:function(){V.bindMessageBus("currentTime",this,this.currentTimeChanged),O.$on("videoPlayed",this.onVideoPlayed),O.$on("videoPaused",this.onVideoPaused)},beforeDestroy:function(){V.releaseBus("currentTimeChanged",this.currentTimeChanged),O.$off("videoPlayed",this.onVideoPlayed),O.$off("videoPaused",this.onVideoPaused)},methods:{updateTime:function(t){this.currentTime=1e3*t.target.currentTime+this.offset},currentTimeChanged:function(t){if(this.slaveMode){let e=(t-this.offset)/1e3;e>=0&&Math.abs(e-this.$el.currentTime)>.05&&(this.$el.currentTime=e)}else this.$el.currentTime=(t-this.offset)/1e3},emitVideoPlayed:function(){O.$emit("videoPlayed",this._uid)},emitVideoPaused:function(){O.$emit("videoPaused",this._uid)},onVideoPlayed:function(t){this._uid!==t&&(this.slaveMode=!0,this.$el.play())},onVideoPaused:function(t){this.uid!==t&&(this.$el.pause(),this.slaveMode=!1)}}},D=j,M=Object(f["a"])(D,A,z,!1,null,null,null),E=M.exports,R=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{style:{width:t.cWidth+"px",height:t.cHeight+"px",margin_top:"10px"}})},I=[],W=i("11f9");function B(){if(0===arguments.length)throw new Error("Invalid invocation of Dygraph.synchronize(). Need >= 1 argument.");var t=["selection","zoom","range"],e={selection:!0,zoom:!0,range:!0},i=[],a=[],r=function(i){if(!(i instanceof Object))throw new Error("Last argument must be either Dygraph or Object.");for(var a=0;a<t.length;a++){var r=t[a];Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}};if(arguments[0]instanceof W["a"]){for(var n=0;n<arguments.length;n++){if(!(arguments[n]instanceof W["a"]))break;i.push(arguments[n])}if(n<arguments.length-1)throw Error("Invalid invocation of Dygraph.synchronize(). All but the last argument must be Dygraph objects.");n===arguments.length-1&&r(arguments[arguments.length-1])}else{if(!arguments[0].length)throw Error("Invalid invocation of Dygraph.synchronize(). First parameter must be either Dygraph or list of Dygraphs.");for(let t=0;t<arguments[0].length;t++)i.push(arguments[0][t]);if(2===arguments.length)r(arguments[1]);else if(arguments.length>2)throw Error("Invalid invocation of Dygraph.synchronize(). Expected two arguments: array and optional options argument.")}if(i.length<2)throw Error("Invalid invocation of Dygraph.synchronize(). Need two or more dygraphs to synchronize.");var o=i.length;for(let l=0;l<i.length;l++){var s=i[l];s.ready((function(){if(0===--o){for(var t=["drawCallback","highlightCallback","unhighlightCallback"],r=0;r<i.length;r++){a[r]||(a[r]={});for(var n=t.length-1;n>=0;n--)a[r][t[n]]=i[r].getFunctionOption(t[n])}e.zoom&&N(i,e,a),e.selection&&G(i,a)}}))}return{detach:function(){for(var t=0;t<i.length;t++){var r=i[t];e.zoom&&r.updateOptions({drawCallback:a[t].drawCallback}),e.selection&&r.updateOptions({highlightCallback:a[t].highlightCallback,unhighlightCallback:a[t].unhighlightCallback})}i=null,e=null,a=null}}}function L(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;var i=t.length;if(i!==e.length)return!1;while(i--)if(t[i]!==e[i])return!1;return!0}function N(t,e,i){var a=!1;for(let n=0;n<t.length;n++){var r=t[n];r.updateOptions({drawCallback:function(r,n){if(!a&&!n){a=!0;var o={dateWindow:r.xAxisRange()};e.range&&(o.valueRange=r.yAxisRange());for(var s=0;s<t.length;s++)t[s]!==r?L(o.dateWindow,t[s].getOption("dateWindow"))&&L(o.valueRange,t[s].getOption("valueRange"))||t[s].updateOptions(o):i[s]&&i[s].drawCallback&&i[s].drawCallback.apply(this,arguments);a=!1}}},!0)}}function G(t,e){for(var i=!1,a=0;a<t.length;a++){var r=t[a];r.updateOptions({highlightCallback:function(a,r,n,o,s){if(!i){i=!0;for(var l=this,c=0;c<t.length;c++)if(l!==t[c]){var d=t[c].findClosestRow(t[c].toDomXCoord(r));null!==d&&t[c].setSelection(d,s)}else e[c]&&e[c].highlightCallback&&e[c].highlightCallback.apply(this,arguments);i=!1}},unhighlightCallback:function(){if(!i){i=!0;for(var a=this,r=0;r<t.length;r++)a!==t[r]?t[r].clearSelection():e[r]&&e[r].unhighlightCallback&&e[r].unhighlightCallback.apply(this,arguments);i=!1}}},!0)}}function H(t,e,i){var a=t.toDomCoords(t.xAxisRange()[0],null)[0],r=t.yAxisRange(0),n=t.toDomCoords(null,r[1])[1],o=e-a,s=i-n,l=t.toDomCoords(t.xAxisRange()[1],null)[0]-a,c=t.toDomCoords(null,r[0])[1]-n,d=0===l?0:o/l,u=0===c?0:s/c;return[d,1-u]}function q(t){return t<10?"0"+t:t}function F(t,e,i,a){function r(t,e,i){var a=t[1]-t[0],r=a*e,n=[r*i,r*(1-i)];return[t[0]+n[0],t[1]-n[1]]}i=i||.5,a=a||.5;for(var n=t.yAxisRanges(),o=[],s=0;s<n.length;s++)o[s]=r(n[s],e,a);t.updateOptions({dateWindow:r(t.xAxisRange(),e,i),valueRange:o[0]})}function J(t,e,i){i.initializeMouseDown(t,e,i),t.altKey||t.shiftKey?W["a"].startZoom(t,e,i):W["a"].startPan(t,e,i)}function Z(t,e,i){i.isPanning?W["a"].movePan(t,e,i):i.isZooming&&W["a"].moveZoom(t,e,i)}function X(t,e,i){i.isPanning?W["a"].endPan(t,e,i):i.isZooming&&W["a"].endZoom(t,e,i)}function Y(t,e){e.updateOptions({dateWindow:[e.rawData_[0][0],e.rawData_[1e3][0]],valueRange:null})}function K(t,e){var i=t.detail?-1*t.detail:t.wheelDelta/40,a=i/50;t.offsetX&&t.offsetY||(t.offsetX=t.layerX-t.target.offsetLeft,t.offsetY=t.layerY-t.target.offsetTop);var r=H(e,t.offsetX,t.offsetY),n=r[0],o=r[1];F(e,a,n,o)}W["a"].synchronize=B;var U={name:"Plot",props:{data:{type:Array,required:!0},labels:{type:Array,required:!0}},data:function(){return{graphs:[],currentTime:0,cWidth:0,cHeight:0,graphPos:0}},mounted:function(){var t=this;V.bindMessageBus("currentTime",this,this.currentTimeChanged),this.$parent.$on("resized",this.sizeChanged),setTimeout((function(){t.cWidth=t.$parent.$el.clientWidth,t.cHeight=t.$parent.$el.clientHeight,setTimeout((function(){t.createGraph()}),50)}),100)},beforeDestroy:function(){V.releaseBus("currentTime",this.sizeChanged),this.$parent.$off("resized",this.sizeChanged)},methods:{onPlotClicked:function(t,e){this.graphPos=e,this.currentTime=e},drawMarker:function(){var t=this;this.graphs.forEach((function(e){e.dc.fillStyle="rgba(255, 0, 0, 0.5)";var i=e.myGraph.toDomCoords(t.graphPos,0)[0]-2,a=e.myGraph.toDomCoords(t.graphPos+2,0)[0]+2;e.dc.fillRect(i,e.myArea.y,a-i,e.myArea.h);var r=e.xAxisRange();if(r[0]>t.graphPos||r[1]<t.graphPos){var n=r[1]-r[0];e.updateOptions({dateWindow:[t.graphPos-n/2,t.graphPos+n/2]})}}))},createGraph:function(){var t=this,e=this.data,i=500,a=e.length<1e3?length:1e3,r=new W["a"](this.$el,e,{animatedZooms:!0,labels:t.labels,axes:{x:{axisLabelFormatter:function(t){return q(t/6e4>>0)+":"+q(t%6e4/1e3>>0)}}},interactionModel:{mousedown:J,mousemove:Z,mouseup:X,dblclick:Y,mousewheel:K},dateWindow:[e[0][0],e[a][0]],underlayCallback:function(e,a,r){r.dc=e,r.myArea=a,r.myGraph=r,r.bottomLeft=r.toDomCoords(0,0),r.topRight=r.toDomCoords(i,20),t.drawMarker()}});r.updateOptions({clickCallback:t.onPlotClicked.bind(t)},!0),this.graphs.push(r)},synchronize:function(t){W["a"].synchronize(this.graphs,t)},currentTimeChanged:function(t){this.graphPos=t},sizeChanged:function(t,e,i,a,r){var n=this;n.cHeight=a,n.cWidth=r,setTimeout((function(){n.graphs.forEach((function(t){t.resize()}))}),50)}},watch:{graphPos:function(){this.graphs.forEach((function(t){t.updateOptions({})}))}}},Q=U,tt=Object(f["a"])(Q,R,I,!1,null,null,null),et=tt.exports,it=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("canvas",{style:{width:t.cWidth+"px",height:t.cHeight+"px"}})},at=[],rt=[1,4,6,11,19,20,24,42,47,50,53,64,70,80,111,137,171,212,220],nt={name:"ARTkP",props:{data:{type:Array,required:!0}},data:function(){return{lastTime:0,currentTime:0,currentIdx:0,cWidth:200,cHeight:100}},mounted:function(){this.colors=window.dataStorage.markerVisibilityColors,this.ctx=this.$el.getContext("2d");var t=this;this.$parent.$on("resized",this.sizeChanged),setTimeout((function(){t.cWidth=t.$parent.$el.clientWidth,t.cHeight=t.$parent.$el.clientHeight,setTimeout((function(){t.update(t.lastTime)}),50)}),200),V.bindMessageBus("currentTime",this,this.currentTimeChanged)},beforeDestroy:function(){V.releaseBus("currentTime",this.sizeChanged),this.$parent.$off("resized",this.sizeChanged)},methods:{updateTime:function(t){var e=t-this.lastTime;if(e>=0&&e<200){while(this.data[this.currentIdx][1]<t)this.currentIdx+=1;this.lastTime=this.data[this.currentIdx][1]}else{this.currentIdx=0;while(this.data[this.currentIdx][1]<t)this.currentIdx+=1;this.lastTime=this.data[this.currentIdx][1]}},update:function(t){this.updateTime(t);var e=this.$el,i=this.ctx,a=this.data[this.currentIdx];i.clearRect(0,0,e.width,e.height),i.fillStyle="#000",i.rect(.24*e.width,.1*e.height,.5*e.width,.8*e.height),i.stroke(),i.beginPath(),i.arc(40,e.height/2,20,0,2*Math.PI),i.fillStyle=this.colors.a,i.stroke(),i.closePath(),i.fill(),i.beginPath(),i.arc(e.width-45,e.height/2,20,0,2*Math.PI),i.fillStyle=this.colors.b,i.stroke(),i.closePath(),i.fill(),i.save(),i.transform(.5,0,0,.8,.24*e.width,.1*e.height);for(var r=2;r<3*rt.length;r+=3)if(!(a[r]<0)){var n=a[r+2],o=a[r],s=a[r+1];i.fillStyle=n<1?this.colors.invis:n<2?this.colors.a:n<3?this.colors.b:n<4.6?this.colors.both:this.colors.focused,i.fillRect(o*e.width-10,s*e.height-10,30,18.75),i.fillText(rt[Math.floor((r-1)/3)],o*e.width-10,s*e.height-15)}i.restore()},currentTimeChanged:function(t){this.update(t)},sizeChanged:function(t,e,i,a,r){var n=this;n.cWidth=r,n.cHeight=a,setTimeout((function(){n.update(n.lastTime)}),50)}}},ot=nt,st=Object(f["a"])(ot,it,at,!1,null,null,null),lt=st.exports,ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"button-add-container"}},[i("button",{attrs:{id:"button-add-view"},on:{click:function(e){t.showModal=!0}}},[t._v("＋")]),i("transition",{attrs:{name:"modal"}},[t.showModal?i("div",{staticClass:"modal-mask"},[i("div",{staticClass:"modal-wrapper",on:{click:t.onModalClicked}},[i("div",{staticClass:"modal-container"},[i("div",{staticClass:"modal-header"},[i("h3",[t._v("Add View")])]),i("div",{staticClass:"modal-body"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"name-input",attrs:{placeholder:"View Name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),i("div",[i("number-input",{attrs:{placeholder:"x",size:"small",inline:"",min:0,max:20},model:{value:t.grid.x,callback:function(e){t.$set(t.grid,"x",e)},expression:"grid.x"}}),i("number-input",{attrs:{placeholder:"y",size:"small",inline:"",min:0,max:20},model:{value:t.grid.y,callback:function(e){t.$set(t.grid,"y",e)},expression:"grid.y"}}),i("number-input",{attrs:{placeholder:"w",size:"small",inline:"",min:1,max:20},model:{value:t.grid.w,callback:function(e){t.$set(t.grid,"w",e)},expression:"grid.w"}}),i("number-input",{attrs:{placeholder:"h",size:"small",inline:"",min:1,max:20},model:{value:t.grid.h,callback:function(e){t.$set(t.grid,"h",e)},expression:"grid.h"}})],1),i("v-select",{attrs:{options:["video","brix","speech","marker"]},model:{value:t.data,callback:function(e){t.data=e},expression:"data"}}),"video"===t.data?i("v-select",{attrs:{options:["combined","left","right","top","depth"]},model:{value:t.src,callback:function(e){t.src=e},expression:"src"}}):t._e(),"brix"===t.data?i("v-select",{attrs:{options:["A","B"]},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}}):t._e(),"brix"===t.data?i("v-select",{attrs:{multiple:"",options:["gyrox","gyroy","gyroz","accx","accy","accz"]},model:{value:t.tiers,callback:function(e){t.tiers=e},expression:"tiers"}}):t._e()],1),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"modal-default-button",on:{click:t.submit}},[t._v(" Create ")])])])])]):t._e()])],1)},dt=[],ut={name:"AddModal",data:function(){return{showModal:!1,data:"",src:"",user:"",name:"",wrapperClicked:0,grid:{x:0,y:0,w:1,h:1},tiers:[]}},methods:{submit:function(){this.$emit("createView",this.$data),this.reset()},reset:function(){Object.assign(this.$data,this.$options.data())},onModalClicked:function(t){t.target.classList.contains("modal-wrapper")?this.$data.wrapperClicked+=1:this.$data.wrapperClicked=0,this.$data.wrapperClicked>1&&this.reset()}}},ht=ut,ft=(i("c9ff"),Object(f["a"])(ht,ct,dt,!1,null,null,null)),pt=ft.exports,gt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"button-save-container"}},[i("button",{attrs:{id:"button-save-dashboard"},on:{click:t.onSaveClicked}},[t._v("☆")])])},mt=[],vt={props:{views:{type:Array,required:!0},layout:{type:Array,required:!0}},mounted:function(){this.views.length=0,this.layout.length=0,this.reset=window.dataStorage.resetLayout;var t=localStorage.getItem("c5viewer_config");!this.reset&&t?(console.log("load Data"),JSON.parse(t).forEach(t=>{this.$emit("createView",t)})):this.$emit("createView",{name:"VideoPlayer",data:"video",src:"combined",grid:{x:0,y:0,w:2,h:2}})},methods:{onSaveClicked:function(){this.saveData()},saveData:function(){var t=this.views.map(t=>{let e=t.constructorArgs;console.log(e);let i=this.layout.find(t=>t.i===e.name);if(i)return e.grid=i,e});localStorage.setItem("c5viewer_config",JSON.stringify(t))}}},wt=vt,yt=(i("aee4"),Object(f["a"])(wt,gt,mt,!1,null,null,null)),bt=yt.exports,xt={name:"Dashboard",components:{grid:T,add:pt,save:bt},data:function(){return{data:window.dataStorage,resetLayout:window.dataStorage.resetLayout,title:"SFB 673 C5 - Alignment in AR-based cooperation",titleLong:"SFB 673 C5 - Alignment in AR-based cooperation",titleShort:"SFB 673 C5",views:[],layout:[]}},mounted:function(){window.addEventListener("resize",this.handleResize),this.handleResize()},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize:function(){this.title===this.titleLong?document.getElementById("arbc-title").offsetWidth>.85*window.innerWidth&&(this.title=this.titleShort):document.getElementById("arbc-title").offsetWidth<.2*window.innerWidth&&(this.title=this.titleLong)},createNewView:function(t){switch(t.grid["i"]=t.name,this.layout.push(t.grid),t.data){case"video":this.createVideo(t);break;case"brix":this.createBrix(t);break;case"speech":this.createSpeech(t);break;case"marker":this.createARTkP(t);break}},createVideo:function(t){var e=this.data.json.trial.start,i={combined:{src:this.data.prefix+"/stage1/trial"+this.data.tid+".mp4",offset:0},left:{src:this.data.prefix+"/stage1/trial"+this.data.tid+"_cam1.mp4",offset:this.data.json.cam1.start-e},right:{src:this.data.prefix+"/stage1/trial"+this.data.tid+"_cam2.mp4",offset:this.data.json.cam2.start-e},top:{src:this.data.prefix+"/stage1/trial"+this.data.tid+"_cam3.mp4",offset:this.data.json.cam3.start-e},depth:{src:this.data.prefix+"/stage2/trial"+this.data.tid+"_kinect_nego.mp4",offset:this.data.json.trial.phase.negotiation.start-e}};this.views.push({name:t.name,component:{is:E,props:i[t.src]},constructorArgs:Ct(t)})},createBrix:function(t){var e="A"===t.user?this.data.brix.s1:this.data.brix.s2,i=[];t.tiers.indexOf("timestamp")<0&&t.tiers.unshift("timestamp"),t.tiers.forEach((function(t){i.push(e[t])})),this.views.push({name:t.name,component:{is:et,props:{data:V.mergeColumns(i),labels:t.tiers}},constructorArgs:Ct(t)})},createSpeech:function(t){var e=this.data.speech;this.views.push({name:t.name,component:{is:et,props:{data:V.mergeColumns([e.timestamp,e.speech1,e.speech2]),labels:["time","A","B"]}},constructorArgs:Ct(t)})},createARTkP:function(t){this.views.push({name:t.name,component:{is:lt,props:{data:this.data.markerVisibility}},constructorArgs:Ct(t)})},removeView:function(t){this.layout.splice(t,1),this.views.splice(t,1)}}};function Ct(t){return JSON.parse(JSON.stringify(t))}var kt=xt,_t=(i("2fe3"),Object(f["a"])(kt,v,w,!1,null,null,null)),Pt=_t.exports;a["default"].use(m["a"]);var $t=new m["a"]({routes:[{path:"/",name:"Dashboard",component:Pt}]});i("6dfc");a["default"].use(r["a"]),a["default"].component("v-select",o.a),a["default"].component(l.a.name,l.a);var St=zt("tid")||"104",Tt=zt("reset")||!1;document.title="trial "+St+" - c5viewer",a["default"].config.productionTip=!1;var At={tid:parseInt(St),prefix:"/data",resetLayout:Tt};function zt(t){return decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[null,""])[1].replace(/\+/g,"%20"))||null}window.dataStorage=At,Promise.all([a["default"].http.get(At.prefix+"/stage1/trial"+At.tid+".json"+location.search),a["default"].http.get(At.prefix+"/stage1/trial"+At.tid+"_brix_s1.csv"+location.search),a["default"].http.get(At.prefix+"/stage1/trial"+At.tid+"_brix_s2.csv"+location.search),a["default"].http.get(At.prefix+"/stage2/trial"+At.tid+"_speech_activity.csv"),a["default"].http.get(At.prefix+"/stage2/trial"+At.tid+"_marker_vis.csv")]).then((function(t){window.dataStorage.json=t[0].body,window.dataStorage.currentTime=0;var e=V.getCSV(t[1].bodyText),i=V.getCSV(t[2].bodyText),r=V.getCSV(t[3].bodyText),n=V.getCSV(t[4].bodyText);window.dataStorage.brix={s1:V.parseBrix(e,window.dataStorage.json.trial.start),s2:V.parseBrix(i,window.dataStorage.json.trial.start)},window.dataStorage.speech=V.parseSpeechData(r,window.dataStorage.json.trial.start),window.dataStorage.markerVisibility=V.parseMarkerVisibility(n,window.dataStorage.json.trial.start),window.dataStorage.markerVisibilityColors={invis:"#000",a:"#f00",b:"#0f0",both:"#00f",focused:"#f0f"},window.vm=new a["default"]({el:"#app",router:$t,components:{App:g},template:"<App/>",data:window.dataStorage}),console.log("application loaded")}))},"85ec":function(t,e,i){},"9f4b":function(t,e,i){"use strict";i("c48a")},aee4:function(t,e,i){"use strict";i("b768")},b768:function(t,e,i){},c48a:function(t,e,i){},c9ff:function(t,e,i){"use strict";i("ddd9")},ddd9:function(t,e,i){}});
//# sourceMappingURL=app.fd52688c.js.map