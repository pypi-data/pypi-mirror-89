(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{259:function(e,t,n){e.exports=n(417)},264:function(e,t,n){},317:function(e,t,n){},404:function(e,t,n){},410:function(e,t,n){},411:function(e,t,n){},417:function(e,t,n){"use strict";n.r(t);var a=n(51),r=n(0),l=n.n(r),i=n(19),c=n.n(i),o=n(421),u=(n(264),n(30)),s=n(53),m=n(98),d=n(228),f=n(229),E=n(145),g=n(253),h=n(249),p=n(47),_=n(226),v=n(427),b=n(430),F=n(227),y=n(424),O=n(94),j=n(142),k=n(77),S=n(183),w=n(428),C=n(73),x=n(429),I=n(425),$=n(418),T=n(423),L=n(431),R=n(419),N=n(420),A=n(203),q=n(432),D=n(434),J=n(435),M=n(436),z=n(437),U=n(438),V=n(439),B=(n(230),y.a.Text,{issues:{kind:"Explanation for kind",distance:"Explanation for distance",name:"Explanation for name",feature:"Explanation for feature",likelyNew:"Explanation for new"},filter:{codes:"Only show issues with codes",paths:"Only show issues in files at a given path",callables:"Only show issues that originate in a specific callable",features:"Only show issues with traces whose features match these conditions",traceLengths:"Only show issues with traces of lenght"},trace:{fromSource:"Trace from the issue root to the source where data originates",root:"Where the trace from the source meets the trace to the sink",toSink:"Trace from the issue root to the data sink",frameSelectionPrecondition:"Explore alternative traces leading to the same sink",frameSelectionPostcondition:"Explore alternative traces from the same source"},source:{toNextFrame:"Flow to next frame",tito:"Flow through function"}});n(317);function H(){var e=Object(a.a)(["\n    mutation DeleteFilter($name: String!) {\n      delete_filter(input: {name: $name}) {\n        clientMutationId\n      }\n    }\n  "]);return H=function(){return e},e}function P(){var e=Object(a.a)(["\n    query Filters {\n      filters {\n        edges {\n          node {\n            name\n            description\n            json\n          }\n        }\n      }\n    }\n  "]);return P=function(){return e},e}function W(){var e=Object(a.a)(["\n    mutation SaveFilter($name: String!, $description: String, $json: String!) {\n      save_filter(\n        input: {name: $name, description: $description, json: $json}\n      ) {\n        node {\n          name\n          description\n          json\n        }\n      }\n    }\n  "]);return W=function(){return e},e}function Q(){var e=Object(a.a)(["\n    query Features {\n      features {\n        edges {\n          node {\n            feature\n          }\n        }\n      }\n    }\n  "]);return Q=function(){return e},e}function Y(){var e=Object(a.a)(["\n    query Callables {\n      callables {\n        edges {\n          node {\n            callable\n          }\n        }\n      }\n    }\n  "]);return Y=function(){return e},e}function Z(){var e=Object(a.a)(["\n    query Paths {\n      paths {\n        edges {\n          node {\n            path\n          }\n        }\n      }\n    }\n  "]);return Z=function(){return e},e}function G(){var e=Object(a.a)(["\n    query Codes {\n      codes {\n        edges {\n          node {\n            code\n          }\n        }\n      }\n    }\n  "]);return G=function(){return e},e}var K=y.a.Text,X={features:[{mode:"all of",features:[]}]},ee=[8,8],te=function(e,t){return Object.keys(e).forEach((function(t){return void 0===e[t]?delete e[t]:{}})),Object.keys(t).forEach((function(e){return void 0===t[e]?delete t[e]:{}})),JSON.stringify(e)===JSON.stringify(t)},ne=function(e){var t=e.label.split(/(?=[A-Z])/).map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ");return l.a.createElement(l.a.Fragment,null,l.a.createElement(O.a,{title:B.filter[e.label]},l.a.createElement(K,{type:"secondary"}," ",t)))},ae=function(e){var t,n=Object(p.a)(G()),a=Object(_.a)(n).data,r=((null===a||void 0===a||null===(t=a.codes)||void 0===t?void 0:t.edges)||[]).map((function(e){return e.node.code}));return l.a.createElement(l.a.Fragment,null,l.a.createElement(ne,{label:"codes"}),l.a.createElement(j.a,{gutter:ee},l.a.createElement(k.a,{span:22},l.a.createElement(S.a,{mode:"multiple",value:e.currentFilter.codes,options:r.map((function(e){return{value:e}})),style:{width:"100%"},onChange:function(t){return e.setCurrentFilter(Object(u.a)(Object(u.a)({},e.currentFilter),{},{codes:t}))}}))))},re=function(e){var t,n=Object(p.a)(Z()),a=Object(_.a)(n).data,r=((null===a||void 0===a||null===(t=a.paths)||void 0===t?void 0:t.edges)||[]).map((function(e){return e.node.path}));return l.a.createElement(l.a.Fragment,null,l.a.createElement(ne,{label:"paths"}),l.a.createElement(j.a,{gutter:ee},l.a.createElement(k.a,{span:22},l.a.createElement(S.a,{mode:"multiple",value:e.currentFilter.paths,options:r.map((function(e){return{value:e}})),style:{width:"100%"},onChange:function(t){return e.setCurrentFilter(Object(u.a)(Object(u.a)({},e.currentFilter),{},{paths:t}))}}))))},le=function(e){var t,n=Object(r.useState)("is"),a=Object(s.a)(n,2),i=a[0],c=a[1],o=Object(r.useState)(null),m=Object(s.a)(o,2),d=m[0],f=m[1],E=Object(p.a)(Y()),g=Object(_.a)(E).data,h=((null===g||void 0===g||null===(t=g.callables)||void 0===t?void 0:t.edges)||[]).map((function(e){return e.node.callable}));return l.a.createElement(l.a.Fragment,null,l.a.createElement(ne,{label:"callables"}),l.a.createElement(j.a,{gutter:ee},l.a.createElement(k.a,{span:6},l.a.createElement(S.a,{options:[{value:"is"},{value:"matches"}],value:i,onChange:c,style:{width:"100%"}})),l.a.createElement(k.a,{span:16},"is"===i?l.a.createElement(S.a,{mode:"multiple",value:e.currentFilter.callables,options:h.map((function(e){return{value:e}})),style:{width:"100%"},onChange:function(t){return e.setCurrentFilter(Object(u.a)(Object(u.a)({},e.currentFilter),{},{callables:t}))}}):l.a.createElement(w.a,{placeholder:"regular experssion",style:{width:"100%"},value:d,onChange:function(t){var n=t.target.value;f(n);var a=h.filter((function(e){return e.match(n)}));e.setCurrentFilter(Object(u.a)(Object(u.a)({},e.currentFilter),{},{callables:a}))},suffix:l.a.createElement(O.a,{title:(e.currentFilter.callables||[]).join("\n"),placement:"bottom"},l.a.createElement(K,{type:"secondary",size:"small"},(e.currentFilter.callables||[]).length))}))))},ie=function(e){var t,n=Object(p.a)(Q()),a=Object(_.a)(n).data,r=((null===a||void 0===a||null===(t=a.features)||void 0===t?void 0:t.edges)||[]).map((function(e){return e.node.feature})),i=e.currentFilter.features||[];return l.a.createElement(l.a.Fragment,null,l.a.createElement(ne,{label:"features"}),i.map((function(t,n){var a=function(a){var r=Object(m.a)(i);r[n]=Object(u.a)(Object(u.a)({},t),a),e.setCurrentFilter(Object(u.a)(Object(u.a)({},e.currentFilter),{},{features:r}))};return l.a.createElement(j.a,{gutter:ee},l.a.createElement(k.a,{span:6},l.a.createElement(S.a,{options:[{value:"all of"},{value:"any of"},{value:"none of"}],value:t.mode,style:{width:"100%"},onChange:function(e){return a({mode:e})}})),l.a.createElement(k.a,{span:16},l.a.createElement(S.a,{mode:"multiple",options:r.map((function(e){return{value:e}})),value:t.features,onChange:function(e){return a({features:e})},style:{width:"100%"}})),l.a.createElement(k.a,{span:2},l.a.createElement(C.a,{type:"text",onClick:function(){e.setCurrentFilter(Object(u.a)(Object(u.a)({},e.currentFilter),{},{features:i.filter((function(e,t){return n!==t}))}))},disabled:i.length<2,icon:l.a.createElement(D.a,null)})))})),l.a.createElement(j.a,{gutter:ee},l.a.createElement(k.a,{span:22},l.a.createElement(C.a,{type:"dashed",onClick:function(){e.setCurrentFilter(Object(u.a)(Object(u.a)({},e.currentFilter),{},{features:[].concat(Object(m.a)(i),[{mode:"all of",features:[]}])}))},icon:l.a.createElement(J.a,null),style:{width:"100%",marginTop:5},block:!0}," ","Add Condition"))))},ce=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(ne,{label:"status"}),l.a.createElement("div",null,l.a.createElement(x.a,{checked:e.currentFilter.is_new_issue,onChange:function(t){return e.setCurrentFilter(Object(u.a)(Object(u.a)({},e.currentFilter),{},{is_new_issue:!!t.target.checked||void 0}))}})," ","only show likely new issues"))},oe=function(e){var t="sources"===e.kind?e.currentFilter.traceLengthFromSources:e.currentFilter.traceLengthToSinks;return l.a.createElement(j.a,{gutter:ee},l.a.createElement(k.a,{span:5,style:{paddingTop:10}},l.a.createElement(K,{type:"secondary"},"sources"===e.kind?"From Sources":"To Sinks")),l.a.createElement(k.a,{span:17},l.a.createElement(I.a,{range:!0,min:0,max:31,defaultValue:[0,31],marks:{0:"0",31:"unlimited"},tipFormatter:function(e){return 31===e?"unlimited":e},value:t,onChange:function(t){"sources"===e.kind?e.setCurrentFilter(Object(u.a)(Object(u.a)({},e.currentFilter),{},{traceLengthFromSources:t})):e.setCurrentFilter(Object(u.a)(Object(u.a)({},e.currentFilter),{},{traceLengthToSinks:t}))}})))},ue=function(e){var t=Object(r.useState)(de()||X),n=Object(s.a)(t,2),a=n[0],i=n[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(ae,{currentFilter:e.currentFilter,setCurrentFilter:e.setCurrentFilter}),l.a.createElement(re,{currentFilter:e.currentFilter,setCurrentFilter:e.setCurrentFilter}),l.a.createElement(le,{currentFilter:e.currentFilter,setCurrentFilter:e.setCurrentFilter}),l.a.createElement(ie,{currentFilter:e.currentFilter,setCurrentFilter:e.setCurrentFilter}),l.a.createElement($.a,null),l.a.createElement(ce,{currentFilter:e.currentFilter,setCurrentFilter:e.setCurrentFilter}),l.a.createElement($.a,null),l.a.createElement(ne,{label:"traceLengths"}),l.a.createElement(oe,{kind:"sources",currentFilter:e.currentFilter,setCurrentFilter:e.setCurrentFilter}),l.a.createElement(oe,{kind:"sinks",currentFilter:e.currentFilter,setCurrentFilter:e.setCurrentFilter}),l.a.createElement($.a,null),l.a.createElement("div",{style:{textAlign:"right"}},l.a.createElement(C.a,{onClick:function(){e.setCurrentFilter(X)},disabled:te(e.currentFilter,X)},"Clear")," ",l.a.createElement(C.a,{type:"primary",onClick:function(){i(e.currentFilter),e.refetch(fe(e.currentFilter)),e.setVisible(!1)},loading:e.refetching,disabled:te(e.currentFilter,a)},"Apply")))},se=function(e){var t=T.a.useForm(),n=Object(s.a)(t,1)[0],a=Object(p.a)(W()),r=Object(F.a)(a,{onCompleted:function(t){var n=Object(u.a)(Object(u.a)({},t.save_filter.node),JSON.parse(t.save_filter.node.json));e.onSave(n)}}),i=Object(s.a)(r,2),c=i[0],o=i[1].error;if(o)return l.a.createElement(L.a,{type:"error"},o.toString());return l.a.createElement(v.a,{title:"Save Filters...",visible:e.visible,onOk:function(){var t=n.getFieldsValue();c({variables:{name:t.name,description:t.description,json:JSON.stringify(e.currentFilter)}}),e.hide()},okText:"Save",onCancel:e.hide,zIndex:2e3},l.a.createElement(T.a,{layout:"vertical",form:n,autoComplete:"off"},l.a.createElement(T.a.Item,{label:"Name",name:"name"},l.a.createElement(w.a,null)),l.a.createElement(T.a.Item,{label:"Description",name:"description"},l.a.createElement(w.a,null))))},me=function(e){var t,n,a,i=Object(r.useState)(null),c=Object(s.a)(i,2),o=c[0],m=c[1],d=Object(r.useState)(!1),f=Object(s.a)(d,2),E=f[0],g=f[1],h=Object(r.useState)(!1),b=Object(s.a)(h,2),y=b[0],O=b[1],S=Object(p.a)(P()),x=Object(_.a)(S),I=x.loading,$=x.error,T=x.data,q=x.refetch,D=Object(p.a)(H()),J=Object(F.a)(D,{onCompleted:q}),V=Object(s.a)(J,2),B=V[0],W=V[1].error;if($)return l.a.createElement(L.a,{type:"error"},$.toString());if(W)return l.a.createElement(L.a,{type:"error"},W.toString());var Q=I?[]:T.filters.edges.map((function(e){var t=JSON.parse(e.node.json);return Object(u.a)(Object(u.a)({},e.node),t)})),Y=Q.filter((function(e){var t,n;return null===o||(e.name.toLowerCase().includes(o.toLowerCase())||(null===(t=e.description)||void 0===t||null===(n=t.toLowerCase())||void 0===n?void 0:n.includes(o.toLowerCase())))})).map((function(e){return{value:e.name,label:l.a.createElement("div",null,e.name,l.a.createElement("br",null),l.a.createElement(K,{type:"secondary"},e.description))}})),Z={};Q.forEach((function(e){return Z[e.name]=e}));return l.a.createElement(j.a,{justify:"space-between"},l.a.createElement(k.a,{span:22},l.a.createElement(R.a,{style:{width:"100%"},options:Y,onSelect:function(t){m(null),e.setCurrentFilter(Z[t])},onSearch:m,value:o||(null===(t=e.currentFilter)||void 0===t?void 0:t.name)||null},l.a.createElement(w.a.Search,{placeholder:"saved filter"}))),l.a.createElement(k.a,null,l.a.createElement(v.a,{visible:y,okText:"Delete",onOk:function(){B({variables:{name:e.currentFilter.name}}),O(!1),e.setCurrentFilter(X)},onCancel:function(){return O(!1)},zIndex:2e3},"Do you really want to delete"," ",l.a.createElement(K,{keyboard:!0},e.currentFilter.name)),l.a.createElement(se,{currentFilter:e.currentFilter,visible:E,hide:function(){return g(!1)},onSave:function(t){e.setCurrentFilter(t),q()}}),l.a.createElement(N.a,{overlay:l.a.createElement(A.a,null,l.a.createElement(A.a.Item,{disabled:0===Object.keys(e.currentFilter).length||void 0!==(null===(n=e.currentFilter)||void 0===n?void 0:n.name),onClick:function(){return g(!0)},icon:l.a.createElement(M.a,null)},"Save..."),l.a.createElement(A.a.Item,{disabled:void 0===(null===(a=e.currentFilter)||void 0===a?void 0:a.name),onClick:function(){return O(!0)},icon:l.a.createElement(z.a,null)},"Delete...")),placement:"bottomRight"},l.a.createElement(C.a,{type:"text",icon:l.a.createElement(U.a,null),ghost:!0}))))};function de(){var e=window.sessionStorage.getItem("filter");return void 0!==e?JSON.parse(e):null}function fe(e){var t=function(e){if(0!==e&&31!==e)return e};return Object(u.a)(Object(u.a)({},e),{},{min_trace_length_to_sources:t((e.traceLengthFromSources||[])[0]),max_trace_length_to_sources:t((e.traceLengthFromSources||[])[1]),min_trace_length_to_sinks:t((e.traceLengthToSinks||[])[0]),max_trace_length_to_sinks:t((e.traceLengthToSinks||[])[1])})}var Ee=function(e){var t=de()||X,n=Object(r.useState)(!1),a=Object(s.a)(n,2),i=a[0],c=a[1],o=Object(r.useState)(t),u=Object(s.a)(o,2),m=u[0],d=u[1];Object(r.useEffect)((function(){window.sessionStorage.setItem("filter",JSON.stringify(m))}),[m]);var f=l.a.createElement("div",{style:{width:"500px"}},l.a.createElement(me,{currentFilter:m,setCurrentFilter:d}),l.a.createElement($.a,null),l.a.createElement(ue,{refetch:e.refetch,refetching:e.refetching,setVisible:c,currentFilter:m,setCurrentFilter:d}));return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{textAlign:"right",margin:"10px 0 -40px 0"}},l.a.createElement(q.a,{visible:i||e.refetching,content:f,placement:"bottomRight",onClick:function(){return c(!i)}},l.a.createElement(C.a,{icon:l.a.createElement(V.a,null),type:te(t,X)?null:"primary"},"Filter"))))},ge=n(433),he=n(422),pe=n(426),_e=n(443),ve=n(444),be=n(445),Fe=n(446),ye=n(440),Oe=n(441),je=n(442),ke=n(244);n(404);function Se(){var e=Object(a.a)(["\n    query Issue($path: String) {\n      file(path: $path) {\n        edges {\n          node {\n            contents\n            editor_link\n          }\n        }\n      }\n    }\n  "]);return Se=function(){return e},e}n(405),n(406),n(407);var we=y.a.Text;function Ce(e,t){return void 0===e||null===e||""===e?[]:e.split(";").map((function(e){var n=e.split("|").map((function(e){return parseInt(e)}));if(3!==n.length)throw new Error("Invalid Location: ".concat(e));var a=n[0]-1,r=n[1],l=n[2];if(l<r){var i=[l,r];r=i[0],l=i[1]}return function(e,t){var n=t[e.from.line].slice(e.from.ch,e.to.ch),a=n.search(/\S/),r=n.length-n.trimEnd().length;return{from:{line:e.from.line,ch:e.from.ch+a},to:{line:e.to.line,ch:e.to.ch-r}}}({from:{line:a,ch:r-1},to:{line:a,ch:l}},t)}))}var xe=function(e){var t,n,a=null,r=Object(p.a)(Se()),i=Object(_.a)(r,{variables:{path:e.path}}),c=i.loading,o=i.error,u=i.data,s=null===u||void 0===u||null===(t=u.file)||void 0===t||null===(n=t.edges[0])||void 0===n?void 0:n.node,d=l.a.createElement("div",null);if(o)d=l.a.createElement(L.a,{message:"Unable to load ".concat(e.path," (").concat(o.toString(),")"),type:"error"});else if(c)d=l.a.createElement("div",{style:{height:"12em",textAlign:"center",paddingTop:"5em"}},l.a.createElement(we,{type:"secondary"},l.a.createElement(ye.a,null),l.a.createElement("br",null),"Loading ",e.path,"..."));else{var f=s.contents,E=f.split("\n"),g=Ce(e.location,E)[0];a=g.from.line;var h=Ce(e.titos,E),v=[].concat(Object(m.a)(h),[g]).sort((function(e,t){return e.from.line-t.from.line})),b=function(e,t){if(0===e.length)return{totalLines:10,folds:[]};for(var n=Math.max(e[e.length-1].from.line-e[0].from.line+3,10),a=[],r=0;r<e.length-1;r++){var l=e[r+1].from.line-e[r].from.line,i=l-2;if(l>10){var c=e[r].from.line+1,o=c+i;a.push({line:c,range:{from:{line:c,ch:t[c].length},to:{line:o,ch:t[o].length}}}),n=n-i+4}}return{totalLines:n,folds:a}}(v,E),F=null;d=l.a.createElement(ke.Controlled,{value:f,options:{lineNumbers:!0,readOnly:"nocursor"},editorDidMount:function(e){(F=e).markText(g.from,g.to,{className:"Source-selection",attributes:{title:B.source.toNextFrame}}),h.forEach((function(t){e.markText(t.from,t.to,{className:"Source-tito",attributes:{title:B.source.tito}})})),b.folds.forEach((function(t){e.foldCode(t.line,{rangeFinder:function(e){return t.range},widget:"Hiding ".concat(t.range.to.line-t.line," lines. Click to expand...")})}));var t=F.defaultTextHeight();F.setSize(null,b.totalLines*t);var n=F.heightAtLine(v[v.length-1].from.line-b.totalLines+2,"local");F.scrollTo(0,n-6*b.folds.length*t)}})}return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{class:"source-menu"},l.a.createElement(O.a,{title:"Open in Editor",placement:"bottom"},l.a.createElement(C.a,{size:"small",icon:l.a.createElement(Oe.a,null),type:"text",onClick:function(){window.location=s.editor_link},disabled:c||o||!Boolean(s.editor_link)})),l.a.createElement(O.a,{title:"Reset Scroll",placement:"bottom"},l.a.createElement(C.a,{size:"small",icon:l.a.createElement(je.a,null),type:"text",onClick:function(){return F&&F.scrollIntoView({line:a||0,ch:0})},disabled:c||o}))),l.a.createElement("div",{class:"source"},d))},Ie=y.a.Text;function $e(e){var t=e.port,n="",a=t.match(/(\[.*\])+/);a&&(t=t.slice(0,t.length-a[1].length),a=a[1].split("]").filter((function(e){return""!==e})).map((function(e){return e.slice(1)})).map((function(e){return l.a.createElement(Ie,{code:!0},e)})),n=l.a.createElement(l.a.Fragment,null," accessing ",a)),"result"===t&&(t="returns");var r=t.match(/formal\((.*)\)/);return r&&(t=l.a.createElement(l.a.Fragment,null,"into parameter ",l.a.createElement(Ie,{code:!0},r[1]))),l.a.createElement(Ie,{type:"secondary"},t,n)}function Te(e){var t=e.separator||".",n=e.threshold||50,a=e.input;if(a.length>n){var r=a.split(t);r.length>3&&(a="".concat(r[0]).concat(t,"[...]").concat(t).concat(r[r.length-2],".").concat(r[r.length-1]))}return l.a.createElement(O.a,{title:e.input},l.a.createElement(Ie,{code:e.code||!1,style:{wordBreak:"break-all"}},a))}var Le=y.a.Text,Re=y.a.Link;function Ne(e){var t=Object(r.useState)(!1),n=Object(s.a)(t,2),a=n[0],i=n[1],c=e.items;if(c.length<=e.maximumElementsToShow)return l.a.createElement(l.a.Fragment,null,c.map((function(e){return l.a.createElement(ge.a,null,e)})));var o=c.slice(0,a?c.length:e.maximumElementsToShow),u=c.length-o.length;return l.a.createElement(l.a.Fragment,null,o.map((function(e){return l.a.createElement(ge.a,null,e)})),l.a.createElement(ge.a,{onClick:function(){return i(!a)},icon:a?l.a.createElement(D.a,null):l.a.createElement(_e.a,null)},a?"Show fewer...":"Show ".concat(u," more...")))}function Ae(e){return l.a.createElement(O.a,{mouseEnterDelay:1,title:e.content,placement:e.placement},e.children)}function qe(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ae,{content:B.issues.kind},e.kinds.map((function(t){return l.a.createElement(ge.a,{color:"sources"===e.kind?"green":"red"},t)})))," ","at"," ",l.a.createElement(Ae,{content:B.issues.distance},l.a.createElement(Le,{underline:!0},"minimum distance ",e.distance,".")),l.a.createElement("br",null),l.a.createElement(Ae,{placement:"right",content:B.issues.name},l.a.createElement("div",{style:{marginTop:".5em"}},l.a.createElement(Ne,{items:e.names,maximumElementsToShow:5}))))}function De(e){var t=[8,8],n=function(e){return l.a.createElement(k.a,{span:4,style:{textAlign:"right"}},l.a.createElement(Le,{type:"secondary"},e.children))},a=function(e){return l.a.createElement(k.a,{span:20},l.a.createElement(Le,{type:"secondary"},e.children))};return l.a.createElement(he.a,{size:"small",title:l.a.createElement(l.a.Fragment,null,l.a.createElement(ve.a,{style:{marginRight:".5em"}}),e.hideTitle?"Issue":l.a.createElement(l.a.Fragment,null,"Issue ",e.issue.issue_id)),extra:e.hideTitle?null:l.a.createElement(Re,{href:"/run/".concat(e.run_id,"/issue/").concat(e.issue.issue_instance_id)},"Traces")},l.a.createElement(j.a,{gutter:t},l.a.createElement(n,null,"Code"),l.a.createElement(a,null,l.a.createElement(Le,{code:!0},e.issue.code))),l.a.createElement(j.a,{gutter:t},l.a.createElement(n,null,"Description"),l.a.createElement(a,null,e.issue.message)),e.issue.is_new_issue?l.a.createElement(j.a,{gutter:t},l.a.createElement(n,null,"Status"),l.a.createElement(a,null,l.a.createElement(O.a,{title:B.issues.likelyNew},l.a.createElement(ge.a,{icon:l.a.createElement(be.a,null),color:"warning"},"likely new")))):null,l.a.createElement(j.a,{gutter:t},l.a.createElement(n,null,"Callable"),l.a.createElement(a,null,l.a.createElement(Te,{input:e.issue.callable,code:!0}))),l.a.createElement(j.a,{gutter:t},l.a.createElement(n,null,"Location"),l.a.createElement(a,null,l.a.createElement(O.a,{title:"Click to preview"},l.a.createElement(q.a,{title:"Source preview",content:l.a.createElement("div",{style:{width:"600px"}},l.a.createElement(xe,{path:e.issue.filename,location:e.issue.location})),placement:"bottomRight",trigger:"click"},l.a.createElement(Fe.a,null)))," ",l.a.createElement(Te,{input:e.issue.filename,code:!0,separator:"/"}))),l.a.createElement(j.a,{gutter:t},l.a.createElement(n,null,"Sources"),l.a.createElement(a,null,l.a.createElement(qe,{kind:"sources",kinds:e.issue.sources,names:e.issue.source_names,distance:e.issue.min_trace_length_to_sources}))),l.a.createElement(j.a,{gutter:t},l.a.createElement(n,null,"Sinks"),l.a.createElement(a,null,l.a.createElement(qe,{kind:"sinks",kinds:e.issue.sinks,names:e.issue.sink_names,distance:e.issue.min_trace_length_to_sinks}))),l.a.createElement(j.a,{gutter:t},l.a.createElement(n,null,"Features"),l.a.createElement(a,null,l.a.createElement(Ae,{content:B.issues.feature,placement:"left"},l.a.createElement("div",null,l.a.createElement(Ne,{items:e.issue.features,maximumElementsToShow:5}))))))}function Je(){return l.a.createElement(he.a,null,l.a.createElement(pe.a,{active:!0,paragraph:{rows:10}}))}n(410);function Me(){var e=Object(a.a)(["\n  query Issue(\n    $after: String\n    $run_id: Int!\n    $codes: [Int]\n    $paths: [String]\n    $callables: [String]\n    $features: [FeatureCondition]\n    $min_trace_length_to_sinks: Int\n    $max_trace_length_to_sinks: Int\n    $min_trace_length_to_sources: Int\n    $max_trace_length_to_sources: Int\n    $is_new_issue: Boolean\n  ) {\n    issues(\n      first: 20\n      after: $after\n      run_id: $run_id\n      codes: $codes\n      paths: $paths\n      callables: $callables\n      features: $features\n      min_trace_length_to_sinks: $min_trace_length_to_sinks\n      max_trace_length_to_sinks: $max_trace_length_to_sinks\n      min_trace_length_to_sources: $min_trace_length_to_sources\n      max_trace_length_to_sources: $max_trace_length_to_sources\n      is_new_issue: $is_new_issue\n    ) {\n      edges {\n        node {\n          issue_id\n          issue_instance_id\n          code\n          message\n          callable\n          filename\n          location\n          sources\n          source_names\n          sinks\n          sink_names\n          features\n          is_new_issue\n          min_trace_length_to_sources\n          min_trace_length_to_sinks\n        }\n      }\n      pageInfo {\n        endCursor\n      }\n    }\n  }\n"]);return Me=function(){return e},e}var ze=function(e){Object(g.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={recently_started_loading:!1},a._fetchIssues=a._fetchIssues.bind(Object(E.a)(a)),a._handleScroll=a._handleScroll.bind(Object(E.a)(a)),a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this._handleScroll)}},{key:"componentWillUnount",value:function(){window.removeEventListener("scroll",this._handleScroll)}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,this._renderIssues(),this._renderLoadingSkeleton())}},{key:"_fetchIssues",value:function(){var e=this.props.data.issues.pageInfo.endCursor;this.props.fetchMore({variables:{after:e},updateQuery:function(e,t){var n=t.fetchMoreResult;return n.issues.edges=[].concat(Object(m.a)(e.issues.edges),Object(m.a)(n.issues.edges)),n}})}},{key:"_handleScroll",value:function(e){var t=document.body;if(null!==t&&!this.props.loading&&!this.state.recently_started_loading&&window.pageYOffset+t.clientHeight>=t.scrollHeight-100){this.setState({recently_started_loading:!0});var n=this;setTimeout((function(){n.setState({recently_started_loading:!1})}),1e3),this._fetchIssues()}}},{key:"_renderIssues",value:function(){var e=this;return this.props.loading?null:l.a.createElement(l.a.Fragment,null,this.props.data.issues.edges.map((function(t){var n=t.node;return l.a.createElement(l.a.Fragment,null,l.a.createElement(De,{run_id:e.props.run_id,issue:n}),l.a.createElement("br",null))})))}},{key:"_renderLoadingSkeleton",value:function(){return this.props.loading||this.state.recently_started_loading?l.a.createElement(l.a.Fragment,null,Object(m.a)(Array(5).keys()).map((function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Je,null),l.a.createElement("br",null))}))):null}}]),n}(l.a.Component),Ue=Object(p.a)(Me()),Ve=function(e){var t=e.match.params.run_id,n=de(),a=n?fe(n):null,i=Object(r.useState)(null),c=Object(s.a)(i,2),o=c[0],m=c[1],d=Object(r.useState)(!1),f=Object(s.a)(d,2),E=f[0],g=f[1],h=Object(_.a)(Ue,{variables:Object(u.a)(Object(u.a)({},a),{},{run_id:t})}),p=h.loading,F=h.error,y=h.data,O=h.fetchMore,j=h.refetch;Object(r.useEffect)((function(){y!==o&&g(!1)}),[y,o,m]);var k=l.a.createElement(ze,{run_id:t,data:y,fetchMore:O,loading:p});return F&&(k=l.a.createElement(v.a,{title:"Error",visible:!0,footer:null},l.a.createElement("p",null,F.toString()))),l.a.createElement(l.a.Fragment,null,l.a.createElement(Ee,{refetch:function(e){m(y),g(!0),j(e)},refetching:E}),l.a.createElement(b.a,{style:{margin:"16px 0"}},l.a.createElement(b.a.Item,{href:"/runs"},"Runs"),l.a.createElement(b.a.Item,null,"Run ",t)),k)},Be=n(45),He=n(447),Pe=n(448),We=n(449),Qe=n(450),Ye=n(451),Ze=n(452);function Ge(){var e=Object(a.a)(["\n    query Issue($run_id: Int!, $issue_instance_id: Int!) {\n      issues(run_id: $run_id, issue_instance_id: $issue_instance_id) {\n        edges {\n          node {\n            issue_id\n            issue_instance_id\n            code\n            message\n            callable\n            filename\n            location\n            sources\n            source_names\n            sinks\n            sink_names\n            features\n            min_trace_length_to_sources\n            min_trace_length_to_sinks\n          }\n        }\n      }\n    }\n  "]);return Ge=function(){return e},e}function Ke(){var e=Object(a.a)(["\n    query InitialTraceFrame($issue_instance_id: Int!, $kind: String!) {\n      initial_trace_frames(issue_instance_id: $issue_instance_id, kind: $kind) {\n        edges {\n          node {\n            frame_id\n            callee\n            callee_id\n            filename\n            callee_location\n            trace_length\n            is_leaf\n          }\n        }\n      }\n    }\n  "]);return Ke=function(){return e},e}function Xe(){var e=Object(a.a)(["\n    query NextTraceFrames(\n      $issue_instance_id: Int!\n      $frame_id: Int!\n      $kind: String!\n    ) {\n      next_trace_frames(\n        issue_instance_id: $issue_instance_id\n        frame_id: $frame_id\n        kind: $kind\n      ) {\n        edges {\n          node {\n            frame_id\n            callee\n            callee_port\n            callee_id\n            filename\n            callee_location\n            trace_length\n            is_leaf\n            titos\n          }\n        }\n      }\n    }\n  "]);return Xe=function(){return e},e}n(411);var et=y.a.Text,tt=S.a.Option;function nt(e){if(e.loading)return l.a.createElement(l.a.Fragment,null,l.a.createElement(he.a,null,l.a.createElement(pe.a,{active:!0})),l.a.createElement("br",null));var t=e.data.issues.edges[0].node;return l.a.createElement(l.a.Fragment,null,l.a.createElement(he.a,null,l.a.createElement(et,null,l.a.createElement(He.a,{style:{marginRight:".5em"}}),"Source and sink traces meet at"," ",l.a.createElement(Te,{input:t.callable,code:!0}),"."),l.a.createElement(xe,{path:t.filename,location:t.location})),l.a.createElement("br",null))}function at(e){var t=Object(r.useState)(0===e.frames.length?null:0),n=Object(s.a)(t,2),a=n[0],i=n[1];if(0===e.frames.length)return l.a.createElement("div",{style:{width:"100%",textAlign:"center",padding:"2em"}},l.a.createElement(et,{type:"warning"},"Missing Trace Frame"));var c=l.a.createElement(xe,{path:e.frames[0].filename,location:e.frames[0].callee_location,titos:e.frames[0].titos}),o="postcondition"===e.kind,u=null!==a&&e.frames[a].is_leaf,m=null;if(!u){m=l.a.createElement("div",{class:"Trace-select"},l.a.createElement(S.a,{defaultValue:a,style:{width:"100%"},onChange:i,suffixIcon:null,disabled:e.frames.length<2},e.frames.map((function(e,t){return l.a.createElement(tt,{value:t},function(e){var t=o?"source":"sink",n=l.a.createElement(Pe.a,null);return 1===e.trace_length&&(n=o?l.a.createElement(We.a,null):l.a.createElement(Qe.a,null)),l.a.createElement(O.a,{title:"Distance to ".concat(t)},l.a.createElement(et,{type:"secondary"},n," ",e.trace_length," "))}(e),l.a.createElement(Te,{input:e.callee,code:!0,threshold:30})," ",l.a.createElement($e,{port:e.callee_port||""}))}))))}var d=null;return null===a||u||(d=l.a.createElement(rt,{issue_instance_id:e.issue_instance_id,frame:e.frames[a],kind:e.kind})),l.a.createElement(l.a.Fragment,null,o?l.a.createElement(l.a.Fragment,null,d,m):null,c,o?null:l.a.createElement(l.a.Fragment,null,m,d))}function rt(e){var t,n=Object(p.a)(Xe()),a=Object(_.a)(n,{variables:{issue_instance_id:e.issue_instance_id,frame_id:e.frame.frame_id,kind:e.kind}}),r=a.loading,i=a.error,c=a.data,o=((null===c||void 0===c||null===(t=c.next_trace_frames)||void 0===t?void 0:t.edges)||[]).map((function(e){return e.node}));return r?l.a.createElement(pe.a,{active:!0}):i?l.a.createElement(L.a,{type:"error"},i.toString()):l.a.createElement(at,{issue_instance_id:e.issue_instance_id,frames:o,kind:e.kind})}function lt(e){var t,n=Object(p.a)(Ke()),a=Object(_.a)(n,{variables:{issue_instance_id:e.issue_instance_id,kind:e.kind}}),r=a.loading,i=a.error,c=a.data,o=((null===c||void 0===c||null===(t=c.initial_trace_frames)||void 0===t?void 0:t.edges)||[]).map((function(e){return e.node})),u="postcondition"===e.kind,s=null;s=r?l.a.createElement(pe.a,{active:!0}):i?l.a.createElement(L.a,{type:"error"},i.toString()):l.a.createElement(at,{issue_instance_id:e.issue_instance_id,frames:o,kind:e.kind});var m=null,d=e.issue;return null!=d&&(m=u?l.a.createElement(l.a.Fragment,null,l.a.createElement(et,null,l.a.createElement(Ye.a,{style:{marginRight:".5em"}}),"Data of ",1===d.sources.length?"type ":"types ",d.sources.map((function(e){return l.a.createElement(ge.a,{color:"green"},e)})),"flowing ",l.a.createElement("i",null,"up to")," ",l.a.createElement(Te,{input:d.callable,code:!0}),"."),l.a.createElement($.a,{plain:!0},"Traces")):l.a.createElement(l.a.Fragment,null,l.a.createElement(et,null,l.a.createElement(Ze.a,{style:{marginRight:".5em"}}),"Data of ",1===d.sources.length?"type ":"types ",d.sources.map((function(e){return l.a.createElement(ge.a,{color:"green"},e)})),"flowing ",l.a.createElement("i",null,"from")," ",l.a.createElement(Te,{input:d.callable,code:!0})," ","into sinks of ",1===d.sinks.length?"type ":"types ",d.sinks.map((function(e){return l.a.createElement(ge.a,{color:"red"},e)})),"."),l.a.createElement($.a,{plain:!0},"Traces"))),l.a.createElement(l.a.Fragment,null,l.a.createElement(he.a,null,m,s),l.a.createElement("br",null))}var it=Object(Be.e)((function(e){var t,n,a=e.match.params.run_id,r=e.match.params.issue_instance_id,i=Object(p.a)(Ge()),c=Object(_.a)(i,{variables:{run_id:a,issue_instance_id:r}}),o=c.loading,u=c.error,s=c.data,m=(null===s||void 0===s||null===(t=s.issues)||void 0===t||null===(n=t.edges[0])||void 0===n?void 0:n.node)||null,d=null;return d=u?l.a.createElement(v.a,{title:"Error",visible:!0,footer:null},l.a.createElement("p",null,u.toString())):l.a.createElement(l.a.Fragment,null,o?l.a.createElement(Je,null):l.a.createElement(De,{run_id:a,issue:m,hideTitle:!0}),l.a.createElement("br",null),l.a.createElement(lt,{issue_instance_id:r,issue:m,kind:"postcondition"}),l.a.createElement(nt,{data:s,loading:o}),l.a.createElement(lt,{issue_instance_id:r,issue:m,kind:"precondition"})),l.a.createElement(l.a.Fragment,null,l.a.createElement(b.a,{style:{margin:"16px 0"}},l.a.createElement(b.a.Item,{href:"/runs"},"Runs"),l.a.createElement(b.a.Item,{href:"/run/".concat(a)},"Run ",a),l.a.createElement(b.a.Item,null,"Issue ",(null===m||void 0===m?void 0:m.issue_id)||"")),d)})),ct=n(453);function ot(){var e=Object(a.a)(["\n    query Run {\n      runs {\n        edges {\n          node {\n            run_id\n            date\n          }\n        }\n      }\n    }\n  "]);return ot=function(){return e},e}var ut=y.a.Text,st=y.a.Link;function mt(e){var t=function(e){return l.a.createElement(k.a,{span:4,style:{textAlign:"right"}},l.a.createElement(ut,{type:"secondary"},e.children))},n=function(e){return l.a.createElement(k.a,{span:20},l.a.createElement(ut,{type:"secondary"},e.children))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(he.a,{size:"small",title:l.a.createElement(l.a.Fragment,null,l.a.createElement(ct.a,{style:{marginRight:".5em"}}),"Run ",e.run.run_id),extra:l.a.createElement(st,{href:"/run/".concat(e.run.run_id)},"Issues")},l.a.createElement(j.a,{gutter:[8,8]},l.a.createElement(t,null,"Date"),l.a.createElement(n,null,l.a.createElement(ut,{code:!0},e.run.date)))),l.a.createElement("br",null))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var dt=n(246),ft=n(163),Et=n(164),gt=n(225),ht=n(454);n(415);function pt(){var e=Object(a.a)(["\n    query Run {\n      runs {\n        edges {\n          node {\n            run_id\n            date\n          }\n        }\n      }\n    }\n  "]);return pt=function(){return e},e}var _t=o.a.Header,vt=o.a.Content,bt=o.a.Footer,Ft=y.a.Text,yt=new ft.a({uri:"http://localhost:5000/graphql",cache:new Et.a});var Ot=l.a.createElement(gt.a,{client:yt},l.a.createElement(dt.a,null,l.a.createElement(o.a,null,l.a.createElement(_t,null,l.a.createElement("div",{class:"logo"},l.a.createElement(ht.a,{style:{marginRight:".2em"}}),"SAPP")),l.a.createElement(vt,null,l.a.createElement("div",{class:"main"},l.a.createElement(Be.a,{exact:!0,path:"/",component:function(){var e=Object(p.a)(pt()),t=Object(_.a)(e,{onCompleted:function(e){var t=-1;e.runs.edges.forEach((function(e){e.node.run_id>t&&(t=e.node.run_id)})),-1===t&&v.a.error({title:"Unable to load run data",content:"No completed run found"}),window.location="/run/".concat(t)}}),n=t.loading,a=t.error;return a&&v.a.error({title:"Unable to load run data",content:a.toString()}),n?l.a.createElement(he.a,null,l.a.createElement("div",{style:{height:"12em",textAlign:"center",paddingTop:"5em"}},l.a.createElement(Ft,{type:"secondary"},l.a.createElement(ye.a,null),l.a.createElement("br",null),"Loading latest run..."))):null}}),l.a.createElement(Be.a,{exact:!0,path:"/runs/",component:function(e){var t=Object(p.a)(ot()),n=Object(_.a)(t),a=n.loading,r=n.error,i=n.data;if(r)return v.a.error({title:"Unable to load run data",content:r.toString()}),null;var c=null;return a&&(c=l.a.createElement(he.a,null,l.a.createElement("div",{style:{height:"12em",textAlign:"center",paddingTop:"5em"}},l.a.createElement(ut,{type:"secondary"},l.a.createElement(ye.a,null),l.a.createElement("br",null),"Loading runs...")))),i&&(c=i.runs.edges.map((function(e){return l.a.createElement(mt,{run:e.node})}))),l.a.createElement(l.a.Fragment,null,l.a.createElement(b.a,{style:{margin:"16px 0"}},l.a.createElement(b.a.Item,null,"Runs")),c)}}),l.a.createElement(Be.a,{exact:!0,path:"/run/:run_id/",component:Ve}),l.a.createElement(Be.a,{exact:!0,path:"/run/:run_id/issue/:issue_instance_id",component:it}))),l.a.createElement(bt,null))));c.a.render(Ot,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[259,1,2]]]);
//# sourceMappingURL=main.0c711101.chunk.js.map