

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>5.1.4. nvector.objects.diff_positions &mdash; Nvector 0.7.6 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="5.1.5. nvector.objects.ECEFvector" href="nvector.objects.ECEFvector.html" />
    <link rel="prev" title="5.1.3. nvector.objects.delta_L" href="nvector.objects.delta_L.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Nvector
          

          
          </a>

          
            
            
              <div class="version">
                0.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro/index.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">2. Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../how-to/index.html">3. How-to guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/index.html">4. Topics guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">5. Reference nvector package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../nvector_summary.html">5.1. Object Oriented interface to Geodesic functions</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="nvector.objects.delta_E.html">5.1.1. nvector.objects.delta_E</a></li>
<li class="toctree-l3"><a class="reference internal" href="nvector.objects.delta_N.html">5.1.2. nvector.objects.delta_N</a></li>
<li class="toctree-l3"><a class="reference internal" href="nvector.objects.delta_L.html">5.1.3. nvector.objects.delta_L</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">5.1.4. nvector.objects.diff_positions</a></li>
<li class="toctree-l3"><a class="reference internal" href="nvector.objects.ECEFvector.html">5.1.5. nvector.objects.ECEFvector</a></li>
<li class="toctree-l3"><a class="reference internal" href="nvector.objects.FrameB.html">5.1.6. nvector.objects.FrameB</a></li>
<li class="toctree-l3"><a class="reference internal" href="nvector.objects.FrameE.html">5.1.7. nvector.objects.FrameE</a></li>
<li class="toctree-l3"><a class="reference internal" href="nvector.objects.FrameN.html">5.1.8. nvector.objects.FrameN</a></li>
<li class="toctree-l3"><a class="reference internal" href="nvector.objects.FrameL.html">5.1.9. nvector.objects.FrameL</a></li>
<li class="toctree-l3"><a class="reference internal" href="nvector.objects.GeoPath.html">5.1.10. nvector.objects.GeoPath</a></li>
<li class="toctree-l3"><a class="reference internal" href="nvector.objects.GeoPoint.html">5.1.11. nvector.objects.GeoPoint</a></li>
<li class="toctree-l3"><a class="reference internal" href="nvector.objects.Nvector.html">5.1.12. nvector.objects.Nvector</a></li>
<li class="toctree-l3"><a class="reference internal" href="nvector.objects.Pvector.html">5.1.13. nvector.objects.Pvector</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../nvector_summary.html#geodesic-functions">5.2. Geodesic functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nvector_summary.html#rotation-matrices-and-angles">5.3. Rotation matrices and angles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nvector_summary.html#utility-functions">5.4. Utility functions</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../appendix/changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendix/authors.html">Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendix/license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendix/acknowledgement.html">Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendix/index.html">Indices and tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendix/zreferences.html">Bibliography</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Nvector</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html"><span class="section-number">5. </span>Reference nvector package</a> &raquo;</li>
        
          <li><a href="../nvector_summary.html"><span class="section-number">5.1. </span>Object Oriented interface to Geodesic functions</a> &raquo;</li>
        
      <li><span class="section-number">5.1.4. </span>nvector.objects.diff_positions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/reference/generated/nvector.objects.diff_positions.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="nvector-objects-diff-positions">
<h1><span class="section-number">5.1.4. </span>nvector.objects.diff_positions<a class="headerlink" href="#nvector-objects-diff-positions" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="nvector.objects.diff_positions">
<code class="sig-name descname">diff_positions</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#nvector.objects.diff_positions" title="Permalink to this definition">¶</a></dt>
<dd><p><cite>diff_positions</cite> is deprecated, use <cite>delta_E</cite> instead!</p>
<p>Returns cartesian delta vector from positions a to b decomposed in E.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>point_a, point_b: Nvector, GeoPoint or ECEFvector objects</strong></dt><dd><p>position a and b, decomposed in E.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>p_ab_E:  ECEFvector</dt><dd><p>Cartesian position vector(s) from a to b, decomposed in E.</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">n_EA_E_and_p_AB_E2n_EB_E</span></code></dt><dd></dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">p_EB_E2n_EB_E</span></code></dt><dd></dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">n_EB_E2p_EB_E.</span></code></dt><dd></dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>The calculation is exact, taking the ellipsity of the Earth into account.
It is also non-singular as both n-vector and p-vector are non-singular
(except for the center of the Earth).</p>
<p class="rubric">Examples</p>
<p><strong>Example 1: “A and B to delta”</strong></p>
<img alt="https://raw.githubusercontent.com/pbrod/Nvector/master/docs/tutorials/images/ex1img.png" src="https://raw.githubusercontent.com/pbrod/Nvector/master/docs/tutorials/images/ex1img.png" />
<p>Given two positions, A and B as latitudes, longitudes and depths relative to
Earth, E.</p>
<p>Find the exact vector between the two positions, given in meters north, east,
and down, and find the direction (azimuth) to B, relative to north.
Assume WGS-84 ellipsoid. The given depths are from the ellipsoid surface.
Use position A to define north, east, and down directions.
(Due to the curvature of Earth and different directions to the North Pole,
the north, east, and down directions will change (relative to Earth) for
different places.  A must be outside the poles for the north and east
directions to be defined.)</p>
<dl>
<dt>Solution:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">nvector</span> <span class="k">as</span> <span class="nn">nv</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wgs84</span> <span class="o">=</span> <span class="n">nv</span><span class="o">.</span><span class="n">FrameE</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;WGS84&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pointA</span> <span class="o">=</span> <span class="n">wgs84</span><span class="o">.</span><span class="n">GeoPoint</span><span class="p">(</span><span class="n">latitude</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">longitude</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">degrees</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pointB</span> <span class="o">=</span> <span class="n">wgs84</span><span class="o">.</span><span class="n">GeoPoint</span><span class="p">(</span><span class="n">latitude</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">longitude</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">degrees</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Step1:  Find p_AB_N (delta decomposed in N).</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p_AB_N</span> <span class="o">=</span> <span class="n">pointA</span><span class="o">.</span><span class="n">delta_to</span><span class="p">(</span><span class="n">pointB</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="n">p_AB_N</span><span class="o">.</span><span class="n">pvector</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">valtxt</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{0:8.2f}</span><span class="s1">, </span><span class="si">{1:8.2f}</span><span class="s1">, </span><span class="si">{2:8.2f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;Ex1: delta north, east, down = </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">valtxt</span><span class="p">)</span>
<span class="go">&#39;Ex1: delta north, east, down = 331730.23, 332997.87, 17404.27&#39;</span>
</pre></div>
</div>
</dd>
<dt>Step2: Also find the direction (azimuth) to B, relative to north:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">azimuth</span> <span class="o">=</span> <span class="n">p_AB_N</span><span class="o">.</span><span class="n">azimuth_deg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;azimuth = </span><span class="si">{0:4.2f}</span><span class="s1"> deg&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">azimuth</span><span class="p">)</span>
<span class="go">&#39;azimuth = 45.11 deg&#39;</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="nvector.objects.ECEFvector.html" class="btn btn-neutral float-right" title="5.1.5. nvector.objects.ECEFvector" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="nvector.objects.delta_L.html" class="btn btn-neutral float-left" title="5.1.3. nvector.objects.delta_L" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015-2020, Norwegian Defence Research Establishment (FFI)

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>