function S(){return S=Object.assign||function(t){for(var l=1;l<arguments.length;l++){var o=arguments[l];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},S.apply(this,arguments)}function Q(t,l){if(t==null)return{};var o=W(t,l),n,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++){if(n=s[r],l.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(t,n))continue;o[n]=t[n]}}return o}function W(t,l){if(t==null)return{};var o={},n=Object.keys(t),r,s;for(s=0;s<n.length;s++){if(r=n[s],l.indexOf(r)>=0)continue;o[r]=t[r]}return o}import X from"../components/ChartPage.js";import e,{useCallback as N,useEffect as $,useMemo as x,useState as a}from"../../web_modules/react.js";import{XAxis as z,parseSmoothing as O,sortingMethod as w}from"../resource/scalar/index.js";import{AsideSection as j}from"../components/Aside.js";import E from"../components/Checkbox.js";import B from"../components/Content.js";import G from"../components/Error.js";import c from"../components/Field.js";import H from"../components/RunAside.js";import J from"../components/ScalarPage/ScalarChart.js";import K from"../components/Select.js";import U from"../components/Slider.js";import Y from"../components/TimeModeSelect.js";import Z from"../components/Title.js";import{rem as T}from"../utils/style.js";import ee from"../../web_modules/styled-components.js";import te from"../hooks/useLocalStorage.js";import oe from"../hooks/useQuery.js";import ne from"../hooks/useTagFilter.js";import{useTranslation as re}from"../../web_modules/react-i18next.js";const le=ee.div.withConfig({displayName:"scalar__TooltipSortingDiv",componentId:"sc-1m6klyq-0"})(["margin-top:",";display:flex;align-items:center;>:last-child{margin-left:",";flex-shrink:1;flex-grow:1;}"],T(20),T(20)),se=()=>{const{t}=re(["scalar","common"]),l=oe(),[o,n]=a(!0),{runs:r,tags:s,selectedRuns:y,onChangeRuns:b,loading:d}=ne("scalar",o),[C,v]=te("scalar_smoothing"),k=x(()=>l.smoothing!=null?O(l.smoothing):O(C),[l.smoothing,C]),[i,R]=a(k);$(()=>v(String(i)),[i,v]);const[u,A]=a(z.Step),[g,M]=a(w[0]),[p,P]=a(!1),[h,_]=a(!1),[f,F]=a(!1),L=x(()=>r.length?e.createElement(H,{runs:r,selectedRuns:y,onChangeRuns:b,running:o,onToggleRunning:n},e.createElement(j,null,e.createElement(c,null,e.createElement(E,{value:p,onChange:P},t("scalar:ignore-outliers"))),e.createElement(c,null,e.createElement(E,{value:f,onChange:F},t("scalar:show-most-value"))),e.createElement(le,null,e.createElement("span",null,t("scalar:tooltip-sorting")),e.createElement(K,{list:w.map(m=>({label:t(`scalar:tooltip-sorting-value.${m}`),value:m})),value:g,onChange:M}))),e.createElement(j,null,e.createElement(c,{label:t("scalar:smoothing")},e.createElement(U,{min:0,max:.99,step:.01,value:i,onChangeComplete:R})),e.createElement(c,null,e.createElement(E,{value:h,onChange:_},t("scalar:smoothed-data-only")))),e.createElement(j,null,e.createElement(c,{label:t("scalar:x-axis")},e.createElement(Y,{value:u,onChange:A})))):null,[t,p,f,h,b,o,r,y,i,g,u]),D=N(m=>{let{label:V,runs:I}=m,q=Q(m,["label","runs"]);return e.createElement(J,S({runs:I,tag:V},q,{smoothing:i,xAxis:u,sortingMethod:g,outlier:p,smoothedOnly:h,showMostValue:f,running:o}))},[i,u,g,p,f,h,o]);return e.createElement(e.Fragment,null,e.createElement(Z,null,t("common:scalar")),e.createElement(B,{aside:L,loading:d},!d&&!r.length?e.createElement(G,null):e.createElement(X,{items:s,withChart:D,loading:d})))};export default se;
