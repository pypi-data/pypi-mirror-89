const o={};import _ from"../../__snowpack__/env.js";o.env=_;import{useEffect as i,useState as u}from"../../web_modules/react.js";import{WebWorker as I}from"../worker/index.js";const p=o.env.SNOWPACK_PUBLIC_PATH,c=(n,s)=>{const[m,t]=u({});return i(()=>{const e=new I(`${p}/_dist_/worker/${n}.js`,{type:"module"});return e.emit("INITIALIZE",{env:o.env}),e.on("INITIALIZED",()=>{t({worker:e}),e.emit("RUN",s)}),e.on("RESULT",r=>t({data:r,worker:e})),e.on("ERROR",r=>t({error:r,worker:e})),()=>{e.terminate()}},[n,s]),m};export default c;
