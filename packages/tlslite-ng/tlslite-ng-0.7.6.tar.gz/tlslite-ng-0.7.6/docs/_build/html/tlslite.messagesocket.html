
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>tlslite.messagesocket module &#8212; tlslite-ng 0.7.6 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-tlslite.messagesocket">
<span id="tlslite-messagesocket-module"></span><h1>tlslite.messagesocket module<a class="headerlink" href="#module-tlslite.messagesocket" title="Permalink to this headline">¶</a></h1>
<p>Wrapper of TLS RecordLayer providing message-level abstraction</p>
<dl class="class">
<dt id="tlslite.messagesocket.MessageSocket">
<em class="property">class </em><code class="sig-prename descclassname">tlslite.messagesocket.</code><code class="sig-name descname">MessageSocket</code><span class="sig-paren">(</span><em class="sig-param">sock</em>, <em class="sig-param">defragmenter</em><span class="sig-paren">)</span><a class="headerlink" href="#tlslite.messagesocket.MessageSocket" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="tlslite.recordlayer.html#tlslite.recordlayer.RecordLayer" title="tlslite.recordlayer.RecordLayer"><code class="xref py py-class docutils literal notranslate"><span class="pre">tlslite.recordlayer.RecordLayer</span></code></a></p>
<p>TLS Record Layer socket that provides Message level abstraction</p>
<p>Because the record layer has a hard size limit on sent messages, they need
to be fragmented before sending. Similarly, a single record layer record
can include multiple handshake protocol messages (very common with
ServerHello, Certificate and ServerHelloDone), as such, the user of
RecordLayer needs to fragment those records into multiple messages.
Unfortunately, fragmentation of messages requires some degree of
knowledge about the messages passed and as such is outside scope of pure
record layer implementation.</p>
<p>This class tries to provide a useful abstraction for handling Handshake
protocol messages.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>recordSize</strong> (<em>int</em>) – maximum size of records sent through socket. Messages
bigger than this size will be fragmented to smaller chunks. Setting it
to higher value than the default 2^14 will make the implementation
non RFC compliant and likely not interoperable with other peers.</p></li>
<li><p><a class="reference internal" href="tlslite.defragmenter.html#module-tlslite.defragmenter" title="tlslite.defragmenter"><strong>defragmenter</strong></a> (<a class="reference internal" href="tlslite.defragmenter.html#tlslite.defragmenter.Defragmenter" title="tlslite.defragmenter.Defragmenter"><em>Defragmenter</em></a>) – defragmenter used for read records</p></li>
<li><p><strong>unfragmentedDataTypes</strong> (<em>tuple</em>) – data types which will be passed as-read,
TLS application_data by default</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="tlslite.messagesocket.MessageSocket.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">sock</em>, <em class="sig-param">defragmenter</em><span class="sig-paren">)</span><a class="headerlink" href="#tlslite.messagesocket.MessageSocket.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply TLS Record Layer abstraction to raw network socket.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sock</strong> (<em>socket.socket</em>) – network socket to wrap</p></li>
<li><p><strong>defragmenter</strong> (<a class="reference internal" href="tlslite.defragmenter.html#tlslite.defragmenter.Defragmenter" title="tlslite.defragmenter.Defragmenter"><em>Defragmenter</em></a>) – defragmenter to apply on the records read</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="tlslite.messagesocket.MessageSocket.flush">
<code class="sig-name descname">flush</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tlslite.messagesocket.MessageSocket.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty the queue of messages to write</p>
<p>Will fragment the messages and write them in as little records as
possible.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>generator</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="tlslite.messagesocket.MessageSocket.flushBlocking">
<code class="sig-name descname">flushBlocking</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tlslite.messagesocket.MessageSocket.flushBlocking" title="Permalink to this definition">¶</a></dt>
<dd><p>Blocking variant of <a class="reference internal" href="#tlslite.messagesocket.MessageSocket.flush" title="tlslite.messagesocket.MessageSocket.flush"><code class="xref py py-meth docutils literal notranslate"><span class="pre">flush()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="tlslite.messagesocket.MessageSocket.queueMessage">
<code class="sig-name descname">queueMessage</code><span class="sig-paren">(</span><em class="sig-param">msg</em><span class="sig-paren">)</span><a class="headerlink" href="#tlslite.messagesocket.MessageSocket.queueMessage" title="Permalink to this definition">¶</a></dt>
<dd><p>Queue message for sending</p>
<p>If the message is of same type as messages in queue, the message is
just added to queue.</p>
<p>If the message is of different type as messages in queue, the queue is
flushed and then the message is queued.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>generator</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="tlslite.messagesocket.MessageSocket.queueMessageBlocking">
<code class="sig-name descname">queueMessageBlocking</code><span class="sig-paren">(</span><em class="sig-param">msg</em><span class="sig-paren">)</span><a class="headerlink" href="#tlslite.messagesocket.MessageSocket.queueMessageBlocking" title="Permalink to this definition">¶</a></dt>
<dd><p>Blocking variant of <a class="reference internal" href="#tlslite.messagesocket.MessageSocket.queueMessage" title="tlslite.messagesocket.MessageSocket.queueMessage"><code class="xref py py-meth docutils literal notranslate"><span class="pre">queueMessage()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="tlslite.messagesocket.MessageSocket.recvMessage">
<code class="sig-name descname">recvMessage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tlslite.messagesocket.MessageSocket.recvMessage" title="Permalink to this definition">¶</a></dt>
<dd><p>Read next message in queue</p>
<p>will return a 0 or 1 if the read is blocking, a tuple of
<code class="xref py py-class docutils literal notranslate"><span class="pre">RecordHeader3</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">Parser</span></code> in case a message was
received.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>generator</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="tlslite.messagesocket.MessageSocket.recvMessageBlocking">
<code class="sig-name descname">recvMessageBlocking</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tlslite.messagesocket.MessageSocket.recvMessageBlocking" title="Permalink to this definition">¶</a></dt>
<dd><p>Blocking variant of <a class="reference internal" href="#tlslite.messagesocket.MessageSocket.recvMessage" title="tlslite.messagesocket.MessageSocket.recvMessage"><code class="xref py py-meth docutils literal notranslate"><span class="pre">recvMessage()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="tlslite.messagesocket.MessageSocket.sendMessage">
<code class="sig-name descname">sendMessage</code><span class="sig-paren">(</span><em class="sig-param">msg</em><span class="sig-paren">)</span><a class="headerlink" href="#tlslite.messagesocket.MessageSocket.sendMessage" title="Permalink to this definition">¶</a></dt>
<dd><p>Fragment and send a message.</p>
<p>If a messages already of same type reside in queue, the message if
first added to it and then the queue is flushed.</p>
<p>If the message is of different type than the queue, the queue is
flushed, the message is added to queue and the queue is flushed again.</p>
<p>Use the sendRecord() message if you want to send a message outside
the queue, or a message of zero size.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>generator</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="tlslite.messagesocket.MessageSocket.sendMessageBlocking">
<code class="sig-name descname">sendMessageBlocking</code><span class="sig-paren">(</span><em class="sig-param">msg</em><span class="sig-paren">)</span><a class="headerlink" href="#tlslite.messagesocket.MessageSocket.sendMessageBlocking" title="Permalink to this definition">¶</a></dt>
<dd><p>Blocking variant of <a class="reference internal" href="#tlslite.messagesocket.MessageSocket.sendMessage" title="tlslite.messagesocket.MessageSocket.sendMessage"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sendMessage()</span></code></a>.</p>
</dd></dl>

</dd></dl>

</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">tlslite-ng</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Hubert Kario.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/tlslite.messagesocket.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>